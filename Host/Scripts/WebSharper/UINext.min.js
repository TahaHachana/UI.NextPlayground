(function(){var $$=this,$=this.IntelliFactory.Runtime,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_0,_1,_2,_3,_4;$.Define($$,{Sitelet:{Bar:{Order:$.Class({},{Show:function(_5){return _5.$==2?"Asc":_5.$==1?"Desc":"None";}}),data:$.Field(function(){return b.mapi(function(_6){return function(_7){return{X:_7,Index:_6,OldIndex:_6};};},d.dataset());}),dataset:$.Field(function(){return[5,10,13,19,21,25,22,18,15,13,11,12,15,20,18,17,16,18,23,25];}),h:$.Field(function(){return 250;}),main:function(){var _8,_9,_,ba,bb,bc,bs,bt;_8=e.scale.ordinal().domain(e.range(f.GetLength(d.dataset()))).rangeRoundBands([0,d.w()],0.5);_9=e.scale.linear().domain([0,e.max(d.dataset())]).range([0,d.h()]);_=e.select("#bar-chart").append("svg").attr("width",d.w()).attr("height",d.h());_.append("g").attr("id","bar-svg");ba=i.Create($.New(j,{$:0}));bb=i.Create($.New(j,{$:0}));bc=function(bd){var bj;if(bd.$==2){k.Set(ba,$.New(j,{$:2}));return b.mapi(function(be){return function(bf){return{X:bf.X,Index:be,OldIndex:bf.Index};};},b.sortBy(function(bf){return bf.X;},d.data()));}else{if(bd.$==1){k.Set(ba,$.New(j,{$:1}));return b.mapi(function(bg){return function(bh){return{X:bh.X,Index:bg,OldIndex:bh.Index};};},b.sortBy(function(bi){return bi.X;},d.data()).slice().reverse());}else{bj=i.Get(ba);k.Set(ba,$.New(j,{$:0}));return bj.$==2?b.mapi(function(bk){return function(bl){var bm;bm=(d.data())[bk];return{X:bm.X,Index:bm.Index,OldIndex:bl.Index};};},b.sortBy(function(bn){return bn.X;},d.data())):bj.$==1?b.mapi(function(bo){return function(bp){var bq;bq=(d.data())[bo];return{X:bq.X,Index:bq.Index,OldIndex:bp.Index};};},b.sortBy(function(br){return br.X;},d.data()).slice().reverse()):d.data();}}};bs=bb.get_View();bt=l.Map(bc,bs);m.RunById("bar-svg",m.EmbedView(l.Map(function(bu){return m.Concat(b.map(function(bv){return d.render(_8,_9,bv);},bu));},bt)));return m.RunById("bar",n.Div(o.ofArray([p.Style("margin-bottom","10px")]),o.ofArray([m.TextNode("Order: "),m.Select($.New(q,{$:0}),function(bw){return j.Show(bw);},o.ofArray([$.New(j,{$:0}),$.New(j,{$:2}),$.New(j,{$:1})]),bb)])));},render:function(bx,by,bz){var bA,bB,bC,bD,bE,bG;bA=bz.Index;bB=bx(bz.OldIndex);bC=r(bz.X);bD=d.simpleTrans();bE=s.Enter(function(bF){return d.simpleAnim(bB,bF);},bD);bG=function(bH){return $$.String(bH);};return m.Concat(o.ofArray([t.Rect(o.ofArray([p.Create("y",$$.String(d.h()-by(bC))),p.Create("width",$$.String(bx.rangeBand())),p.Create("height",$$.String(by(bC))),p.Create("fill","steelblue"),p.Animated("x",bE,l.Map(function(bI){return bI;},u.Const(bx(bA))),bG)]),$.New(q,{$:0})),t.Text(v.toList(v.delay(function(){return v.append([p.Create("text-anchor","middle")],v.delay(function(){return v.append([p.Create("font-family","sans-serif")],v.delay(function(){return v.append([p.Create("font-size","11px")],v.delay(function(){return v.append([p.Create("fill","white")],v.delay(function(){var bO,bP;if(bz.OldIndex===bA){bO=[p.Create("x",$$.String(bx(bA)+7))];}else{bP=function(bQ){return $$.String(bQ);};bO=[p.Animated("x",bE,l.Map(function(bR){return bR;},u.Const(bx(bA)+7)),bP)];}return v.append(bO,v.delay(function(){return[p.Create("y",$$.String(d.h()-by(bC)+15))];}));}));}));}));}));})),o.ofArray([m.TextNode($$.String(bC))]))]));},simpleAnim:function(bT,bU){return w.Simple(x.get_Double(),y.get_CubicInOut(),400,bT,bU);},simpleTrans:$.Field(function(){return s.Create(function(bV){return function(bW){return d.simpleAnim(bV,bW);};});}),w:$.Field(function(){return 600;})},Client:{main:function(){var bX,bY,b3;bX=A.New();bX.max=60;bX.min=20;bX.values=[25,55];bX.range=true;bY=B.New1(bX);bY.OnSlide(function(){var b0,b1;b0=bY.get_Values();b1=C.age();return($.Tupled(function(b2){return k.Set(b1,b2);}))([b0[0],b0[1]]);});b3=E.add(F.Div(o.ofArray([F.Attr().Class("container")])),o.ofArray([E.add(F.Div(o.ofArray([F.Attr().Class("example")])),o.ofArray([F.H1(o.ofArray([F.Text("Hello"),F.Attr().Class("page-header")])),F.Div(o.ofArray([F.Attr().NewAttr("id","hello")]))])),F.Hr($.New(q,{$:0})),E.add(F.Div(o.ofArray([F.Attr().Class("example")])),o.ofArray([F.H1(o.ofArray([F.Text("Dynamic Scatterplot"),F.Attr().Class("page-header")])),F.Div(o.ofArray([F.Attr().NewAttr("id","scatter")]))])),F.Hr($.New(q,{$:0})),E.add(F.Div(o.ofArray([F.Attr().Class("example")])),o.ofArray([F.H1(o.ofArray([F.Text("Phoneword"),F.Attr().Class("page-header")])),F.Div(o.ofArray([F.Attr().NewAttr("id","phoneword")]))])),F.Hr($.New(q,{$:0})),E.add(F.Div(o.ofArray([F.Attr().Class("example")])),o.ofArray([F.H1(o.ofArray([F.Text("Bar"),F.Attr().Class("page-header")])),F.Div(o.ofArray([F.Attr().NewAttr("id","bar")])),F.Div(o.ofArray([F.Attr().NewAttr("id","bar-chart")]))])),F.Hr($.New(q,{$:0})),E.add(F.Div(o.ofArray([F.Attr().Class("example")])),o.ofArray([F.H1(o.ofArray([F.Text("Google Dashboard"),F.Attr().Class("page-header")])),E.add(F.Div(o.ofArray([F.Attr().Class("row"),F.Attr().NewAttr("style","margin-bottom:50px;")])),o.ofArray([E.add(F.Div(o.ofArray([F.Attr().Class("col-md-6")])),o.ofArray([F.Div(o.ofArray([F.Attr().NewAttr("id","min-max")])),F.Div(o.ofArray([bY]))])),E.add(F.Div(o.ofArray([F.Attr().Class("col-md-6")])),o.ofArray([F.Div(o.ofArray([F.Attr().NewAttr("id","google-dash")]))]))])),E.add(F.Div(o.ofArray([F.Attr().Class("row")])),o.ofArray([E.add(F.Div(o.ofArray([F.Attr().Class("col-md-6")])),o.ofArray([F.Div(o.ofArray([F.Attr().NewAttr("style","height: 400px;"),F.Attr().NewAttr("id","google-pie")]))])),E.add(F.Div(o.ofArray([F.Attr().Class("col-md-6")])),o.ofArray([F.Div(o.ofArray([F.Attr().NewAttr("style","height: 400px;"),F.Attr().NewAttr("id","google-table")]))]))])),F.Div(o.ofArray([F.Attr().NewAttr("id","google")]))]))]));E.OnAfterRender(function(){m.RunById("hello",G.main());H.main();m.RunById("phoneword",I.main());d.main();return C.main();},b3);return b3;}},Controls:{EntryPoint:$.Class({get_Body:function(){return J.main();}})},GoogleDashboard:{Gender:$.Class({},{Show:function(b5){return b5.$==1?"Male":b5.$==2?"None":"Female";}}),age:$.Field(function(){return i.Create([20,60]);}),data:$.Field(function(){return o.ofArray([{Name:"Michael",Gender:$.New(K,{$:1}),Age:24,DonutsEaten:5},{Name:"Elisa",Gender:$.New(K,{$:0}),Age:31,DonutsEaten:4},{Name:"John",Gender:$.New(K,{$:1}),Age:40,DonutsEaten:1},{Name:"Jessica",Gender:$.New(K,{$:0}),Age:37,DonutsEaten:3},{Name:"Margareth",Gender:$.New(K,{$:0}),Age:53,DonutsEaten:2},{Name:"Miranda",Gender:$.New(K,{$:0}),Age:25,DonutsEaten:3},{Name:"Jack",Gender:$.New(K,{$:1}),Age:26,DonutsEaten:2}]);}),gender:$.Field(function(){return i.Create($.New(K,{$:2}));}),main:function(){var b6,b$,ca,cb,cd;b6=function(b7){return $.Tupled(function(b8){return o.filter(function(b9){return b9.Age<b8[1]?b9.Age>b8[0]:false;},b7.$==2?C.data():o.filter(function(b_){return L.Equals(b_.Gender,b7);},C.data()));});};b$=C.gender().get_View();ca=C.age().get_View();cb=l.Map2(b6,b$,ca);m.RunById("google",m.EmbedView(l.Map(function(cc){return C.render(cc);},cb)));cd=C.age().get_View();m.RunById("min-max",m.TextView(l.Map($.Tupled(function(ce){var cf;cf=ce[1];return"Min: "+$$.String(ce[0])+" Max: "+$$.String(cf);}),cd)));return m.RunById("google-dash",n.Div($.New(q,{$:0}),o.ofArray([m.TextNode("Gender Selection: "),m.Select($.New(q,{$:0}),function(cg){return K.Show(cg);},o.ofArray([$.New(K,{$:2}),$.New(K,{$:0}),$.New(K,{$:1})]),C.gender())])));},render:function(ch){var ci,cl,cm,cn,co;ci=new O();ci.addColumn("string","Name");ci.addColumn("number","Donuts Eaten");ci.addRows(ch.get_Length());v.iteri(function(cj){return function(ck){ci.setCell(cj,0,ck.Name);return ci.setCell(cj,1,ck.DonutsEaten);};},ch);cl=P.getElementById("google-pie");cm=new Q(cl);cn={};cm.draw(ci,cn);co=new O();co.addColumn("string","Name");co.addColumn("string","Gender");co.addColumn("number","Age");co.addColumn("number","Donuts Eaten");co.addRows(ch.get_Length());v.iteri(function(cp){return function(cq){co.setCell(cp,0,cq.Name);co.setCell(cp,1,cq.Gender.$==0?"Female":"Male");co.setCell(cp,2,cq.Age);return co.setCell(cp,3,cq.DonutsEaten);};},ch);(new R(P.getElementById("google-table"))).draw(co,{});return m.get_Empty();}},Hello:{inputField:$.Field(function(){return m.Input($.New(q,{$:0}),G.nameVar());}),label:$.Field(function(){return m.TextView(l.Map(function(cr){return"Hello "+cr+"!";},G.nameVar().get_View()));}),main:function(){return n.Div0(o.ofArray([n.Label0(o.ofArray([m.TextNode("Name:")])),n.Div0(o.ofArray([G.inputField()])),n.H20(o.ofArray([G.label()]))]));},nameVar:$.Field(function(){return i.Create("");})},Phoneword:{inputField:$.Field(function(){return m.Input($.New(q,{$:0}),I.phoneVar());}),label:$.Field(function(){return m.TextView(l.Map(function(cs){return I.toNumber(cs);},I.phoneVar().get_View()));}),main:function(){return n.Div0(o.ofArray([n.Label0(o.ofArray([m.TextNode("Phoneword:")])),n.Div0(o.ofArray([I.inputField()])),n.H20(o.ofArray([I.label()]))]));},phoneVar:$.Field(function(){return i.Create("1-645-COMPANY");}),toNumber:function(ct){return S.concat("",v.choose(function(cu){var cv,cw;cv=T.fromCharCode(cu);if(" -0123456789".indexOf(cv)!=-1){return{$:1,$0:cv};}else{cw=I.translate(cv);return cw.$==1?{$:1,$0:$$.String(cw.$0)}:{$:0};}},ct.toUpperCase()));},translate:function(cx){var cy,cz,cA;cy=I["|Contains|_|"]("ABC",cx);if(cy.$==1){return{$:1,$0:2};}else{cz=I["|Contains|_|"]("DEF",cx);if(cz.$==1){return{$:1,$0:3};}else{cA=I["|Contains|_|"]("GHI",cx);return cA.$==1?{$:1,$0:4}:I["|Contains|_|"]("JKL",cx).$==1?{$:1,$0:5}:I["|Contains|_|"]("MNO",cx).$==1?{$:1,$0:6}:I["|Contains|_|"]("PQRS",cx).$==1?{$:1,$0:7}:I["|Contains|_|"]("TUV",cx).$==1?{$:1,$0:8}:I["|Contains|_|"]("WXYZ",cx).$==1?{$:1,$0:9}:{$:0};}}},"|Contains|_|":function(cB,cC){return cB.indexOf(cC)!=-1?{$:1,$0:cC}:{$:0};}},Scatter:{Point:$.Class({},{Create:function(cD,cE){return $.New(U,{X:cD,Y:cE,Key:V.Fresh()});}}),PointModel:$.Class({Add:function(cF){this.arr.Add(cF);return W.Update(function(){return null;},this.model);},get_MaxX:function(){return r(v.maxBy(function(cH){return cH.X;},this.arr).X);},get_MaxY:function(){return r(v.maxBy(function(cI){return cI.Y;},this.arr).Y);},get_View:function(){return X.View(this.model);}},{New:function(cJ){var cK;cK=$.New(this,{});cK.arr=_0.New1();cK.arr.AddRange(cJ);cK.model=W.Create(function(cL){return cL.ToArray();},cK.arr);return cK;}}),h:$.Field(function(){return 300;}),main:function(){var cM,cN,cO,cP,cQ,cR,cS,cT,cU,cV,cW,cZ;cM=_1.New(H.points());cN=e.scale.linear().domain([0,cM.get_MaxX()]).range([H.padding(),H.w()-H.padding()*2]);cO=e.scale.linear().domain([0,cM.get_MaxY()]).range([H.h()-H.padding(),H.padding()]);cP=e.scale.linear().domain([0,cM.get_MaxY()]).range([2,5]);cQ=e.svg.axis().scale(cN).orient("bottom");cR=[5];cS=cQ.ticks.apply(cQ,[].concat(cR));cT=e.svg.axis().scale(cO).orient("left");cU=[5];cV=cT.ticks.apply(cT,[].concat(cU));cW=e.select("#scatter").append("svg").attr("width",H.w()).attr("height",H.h());cW.append("g").attr("id","scatter-svg").style("fill","steelblue");cW.append("g").attr("class","axis").attr("transform","translate(0,"+$$.String(H.h()-H.padding())+")").call(function(cX){return cS(cX);});cW.append("g").attr("class","axis").attr("transform","translate("+$$.String(H.padding())+",0)").call(function(cY){return cV(cY);});cZ=function(c0){return H.scale(cN,cO,cP,c0);};m.RunById("scatter-svg",m.ConvertBy(function(c1){return c1.Key;},function(c2){return H.render(cZ,c2);},cM.get_View()));_2(function(){return cM.Add(U.Create(_3.floor(_3.random()*cM.get_MaxX()),_3.floor(_3.random()*cM.get_MaxY())));},1000);return;},padding:$.Field(function(){return 30;}),points:$.Field(function(){return o.map(function(){return U.Create(_3.floor(_3.random()*H.range()),_3.floor(_3.random()*H.range()));},v.toList(_4.range(0,19)));}),range:$.Field(function(){return _3.random()*1000;}),render:function(c5,c6){var c7,c8,c9;c7=c5(c6);c8=c7[2];c9=c7[1];return t.Circle(o.ofArray([p.Create("cx",$$.String(c7[0])),p.Create("cy",$$.String(c9)),p.Create("r",$$.String(c8))]),$.New(q,{$:0}));},scale:function(c_,c$,da,db){return[c_(r(db.X)),c$(r(db.Y)),da(r(db.Y))];},w:$.Field(function(){return 500;})}}});$.OnInit(function(){a=$.Safe($$.IntelliFactory.WebSharper);b=$.Safe(a.Arrays);c=$.Safe($$.Sitelet);d=$.Safe(c.Bar);e=$.Safe($$.d3);f=$.Safe(a.IntrinsicFunctionProxy);g=$.Safe(a.UI);h=$.Safe(g.Next);i=$.Safe(h.Var1);j=$.Safe(d.Order);k=$.Safe(h.Var);l=$.Safe(h.View1);m=$.Safe(h.Doc);n=$.Safe(h.Html);o=$.Safe(a.List);p=$.Safe(h.Attr);q=$.Safe(o.T);r=$.Safe($$.Number);s=$.Safe(h.Trans);t=$.Safe(n.SvgElements);u=$.Safe(h.View);v=$.Safe(a.Seq);w=$.Safe(h.An);x=$.Safe(h.Interpolation);y=$.Safe(h.Easing);z=$.Safe(a.JQueryUI);A=$.Safe(z.SliderConfiguration);B=$.Safe(z.Slider);C=$.Safe(c.GoogleDashboard);D=$.Safe(a.Html);E=$.Safe(D.Operators);F=$.Safe(D.Default);G=$.Safe(c.Hello);H=$.Safe(c.Scatter);I=$.Safe(c.Phoneword);J=$.Safe(c.Client);K=$.Safe(C.Gender);L=$.Safe(a.Unchecked);M=$.Safe($$.google);N=$.Safe(M.visualization);O=$.Safe(N.DataTable);P=$.Safe($$.document);Q=$.Safe(N.PieChart);R=$.Safe(N.Table);S=$.Safe(a.Strings);T=$.Safe($$.String);U=$.Safe(H.Point);V=$.Safe(h.Key);W=$.Safe(h.Model1);X=$.Safe(h.Model);Y=$.Safe(a.Collections);Z=$.Safe(Y.ResizeArray);_0=$.Safe(Z.ResizeArrayProxy);_1=$.Safe(H.PointModel);_2=$.Safe($$.setInterval);_3=$.Safe($$.Math);return _4=$.Safe(a.Operators);});$.OnLoad(function(){H.w();H.range();H.points();H.padding();H.h();I.phoneVar();I.label();I.inputField();G.nameVar();G.label();G.inputField();C.gender();C.data();C.age();d.w();d.simpleTrans();d.h();d.dataset();d.data();return;});}());
