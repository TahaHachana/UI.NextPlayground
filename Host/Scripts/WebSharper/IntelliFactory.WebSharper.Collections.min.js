(function(){var $$=this,$=this.IntelliFactory.Runtime,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C;$.Define($$,{IntelliFactory:{WebSharper:{Collections:{BalancedTree:{Add:function(D,E){return c.Put(function(){return function(G){return G;};},D,E);},Branch:function(H,I,J){return{Node:H,Left:I,Right:J,Height:1+d.Max(I==null?0:I.Height,J==null?0:J.Height),Count:1+(I==null?0:I.Count)+(J==null?0:J.Count)};},Build:function(K,L,M){var N;if(M-L+1<=0){return null;}else{N=(L+M)/2>>0;return c.Branch(K[N],c.Build(K,L,N-1),c.Build(K,N+1,M));}},Contains:function(O,P){return!((c.Lookup(O,P))[0]==null);},Enumerate:function(Q,R){var S;S=$.Tupled(function(T){var U,V;U=T[0];V=T[1];return U==null?V.$==1?{$:1,$0:[V.$0[0],[V.$0[1],V.$1]]}:{$:0}:Q?S([U.Right,$.New(g,{$:1,$0:[U.Node,U.Left],$1:V})]):S([U.Left,$.New(g,{$:1,$0:[U.Node,U.Right],$1:V})]);});return e.unfold(S,[R,$.New(g,{$:0})]);},Lookup:function(W,X){var Y,Z,_0,_1;Y=[];Z=X;_0=true;while(_0){if(Z==null){_0=false;}else{_1=d.Compare(W,Z.Node);if(_1===0){_0=false;}else{if(_1===1){Y.unshift([true,Z.Node,Z.Left]);Z=Z.Right;}else{Y.unshift([false,Z.Node,Z.Right]);Z=Z.Left;}}}}return[Z,Y];},OfSeq:function(_2){var _3;_3=h.sort(e.toArray(e.distinct(_2)));return c.Build(_3,0,_3.length-1);},Put:function(_4,_5,_6){var _7,_8,_9;_7=c.Lookup(_5,_6);_8=_7[0];_9=_7[1];return _8==null?c.Rebuild(_9,c.Branch(_5,null,null)):c.Rebuild(_9,c.Branch((_4(_8.Node))(_5),_8.Left,_8.Right));},Rebuild:function(_,ba){var bb,bd,be,bf,bg,bh,bi,bj,bk,bl,bm;bb=function(bc){return bc==null?0:bc.Height;};bd=ba;for(be=0;be<=i.GetLength(_)-1;be++){bf=_[be];if(bf[0]){bh=bf[1];bi=bf[2];if(bb(bd)>bb(bi)+1){if(bb(bd.Left)===bb(bd.Right)+1){bj=bd.Left;bg=c.Branch(bj.Node,c.Branch(bh,bi,bj.Left),c.Branch(bd.Node,bj.Right,bd.Right));}else{bg=c.Branch(bd.Node,c.Branch(bh,bi,bd.Left),bd.Right);}}else{bg=c.Branch(bh,bi,bd);}}else{bk=bf[1];bl=bf[2];if(bb(bd)>bb(bl)+1){if(bb(bd.Right)===bb(bd.Left)+1){bm=bd.Right;bg=c.Branch(bm.Node,c.Branch(bd.Node,bd.Left,bm.Left),c.Branch(bk,bm.Right,bl));}else{bg=c.Branch(bd.Node,bd.Left,c.Branch(bk,bd.Right,bl));}}else{bg=c.Branch(bk,bd,bl);}}bd=bg;}return bd;},Remove:function(bm,bn){var bo,bp,bq,br;bo=c.Lookup(bm,bn);bp=bo[0];bq=bo[1];if(bp==null){return bn;}else{if(bp.Right==null){return c.Rebuild(bq,bp.Left);}else{if(bp.Left==null){return c.Rebuild(bq,bp.Right);}else{br=e.toArray(e.append(c.Enumerate(false,bp.Left),c.Enumerate(false,bp.Right)));return c.Rebuild(bq,c.Build(br,0,br.length-1));}}}},TryFind:function(bs,bt){var bu;bu=(c.Lookup(bs,bt))[0];return bu==null?{$:0}:{$:1,$0:bu.Node};}},Dictionary:$.Class({Add:function(bv,bw){var bx;bx=this.hash.call(null,bv);if(this.data.hasOwnProperty(bx)){return d.FailWith("An item with the same key has already been added.");}else{this.data[bx]={K:bv,V:bw};this.count=this.count+1;return;}},Clear:function(){this.data={};this.count=0;return;},ContainsKey:function(by){return this.data.hasOwnProperty(this.hash.call(null,by));},GetEnumerator:function(){return j.Get(k.GetFieldValues(this.data));},Remove:function(bz){var bA;bA=this.hash.call(null,bz);if(this.data.hasOwnProperty(bA)){k.Delete(this.data,bA);this.count=this.count-1;return true;}else{return false;}},get_Item:function(bB){var bC;bC=this.hash.call(null,bB);return this.data.hasOwnProperty(bC)?this.data[bC].V:l.notPresent();},set_Item:function(bD,bE){var bF;bF=this.hash.call(null,bD);if(!this.data.hasOwnProperty(bF)){this.count=this.count+1;}this.data[bF]={K:bD,V:bE};return;}},{New:function(bG,bH){return $.New(this,m.New11(bG,function(bI){return function(bJ){return bH.Equals(bI,bJ);};},function(bK){return bH.GetHashCode(bK);}));},New1:function(bL){return $.New(this,m.New11(bL,function(bM){return function(bN){return n.Equals(bM,bN);};},function(bO){return n.Hash(bO);}));},New11:function(bP,bQ,bR){var bS,bT,bU;bS=$.New(this,{});bS.hash=bR;bS.count=0;bS.data={};bT=j.Get(bP);while(bT.MoveNext()){bU=bT.get_Current();bS.data[bS.hash.call(null,bU.K)]=bU.V;}return bS;},New12:function(bV){return $.New(this,m.New11([],function(bW){return function(bX){return bV.Equals(bW,bX);};},function(bY){return bV.GetHashCode(bY);}));},New2:function(){return $.New(this,m.New11([],function(bZ){return function(b0){return n.Equals(bZ,b0);};},function(b1){return n.Hash(b1);}));},New3:function(){return $.New(this,m.New2());},New4:function(b3,b4){return $.New(this,m.New12(b4));}}),DictionaryUtil:{notPresent:function(){return d.FailWith("The given key was not present in the dictionary.");}},FSharpMap:$.Class({Add:function(b5,b6){var b7;b7=this.tree;return o.New1(c.Add($.New(p,{Key:b5,Value:b6}),b7));},CompareTo:function(b8){return e.compareWith(function(b9){return function(b_){return d.Compare(b9,b_);};},this,b8);},ContainsKey:function(b$){var ca;ca=this.tree;return c.Contains($.New(p,{Key:b$,Value:undefined}),ca);},Equals:function(cb){return this.get_Count()===cb.get_Count()?e.forall2(function(cc){return function(cd){return n.Equals(cc,cd);};},this,cb):false;},GetEnumerator:function(){return j.Get(e.map(function(ce){return{K:ce.Key,V:ce.Value};},c.Enumerate(false,this.tree)));},GetHashCode:function(){return n.Hash(e.toArray(this));},Remove:function(cf){var cg;cg=this.tree;return o.New1(c.Remove($.New(p,{Key:cf,Value:undefined}),cg));},TryFind:function(ch){var ci;ci=this.tree;return q.map(function(cj){return cj.Value;},c.TryFind($.New(p,{Key:ch,Value:undefined}),ci));},get_Count:function(){var ck;ck=this.tree;return ck==null?0:ck.Count;},get_IsEmpty:function(){return this.tree==null;},get_Item:function(cl){var cm;cm=this.TryFind(cl);return cm.$==0?d.FailWith("The given key was not present in the dictionary."):cm.$0;},get_Tree:function(){return this.tree;}},{New:function(cn){return $.New(this,o.New1(r.fromSeq(cn)));},New1:function(co){var cp;cp=$.New(this,{});cp.tree=co;return cp;}}),FSharpSet:$.Class({Add:function(cq){return s.New1(c.Add(cq,this.tree));},CompareTo:function(cr){return e.compareWith(function(cs){return function(ct){return d.Compare(cs,ct);};},this,cr);},Contains:function(cu){return c.Contains(cu,this.tree);},Equals:function(cv){return this.get_Count()===cv.get_Count()?e.forall2(function(cw){return function(cx){return n.Equals(cw,cx);};},this,cv):false;},GetEnumerator:function(){return j.Get(c.Enumerate(false,this.tree));},GetHashCode:function(){return-1741749453+n.Hash(e.toArray(this));},IsProperSubsetOf:function(cy){return this.IsSubsetOf(cy)?this.get_Count()<cy.get_Count():false;},IsProperSupersetOf:function(cz){return this.IsSupersetOf(cz)?this.get_Count()>cz.get_Count():false;},IsSubsetOf:function(cA){return e.forall(function(cB){return cA.Contains(cB);},this);},IsSupersetOf:function(cC){var cE=this;return e.forall(function(cD){return cE.Contains(cD);},cC);},Remove:function(cF){return s.New1(c.Remove(cF,this.tree));},add:function(cG){return s.New1(c.OfSeq(e.append(this,cG)));},get_Count:function(){var cH;cH=this.tree;return cH==null?0:cH.Count;},get_IsEmpty:function(){return this.tree==null;},get_MaximumElement:function(){return e.head(c.Enumerate(true,this.tree));},get_MinimumElement:function(){return e.head(c.Enumerate(false,this.tree));},get_Tree:function(){return this.tree;},sub:function(cI){return t.Filter(function(cJ){return!cI.Contains(cJ);},this);}},{New:function(cK){return $.New(this,s.New1(u.ofSeq(cK)));},New1:function(cL){var cM;cM=$.New(this,{});cM.tree=cL;return cM;}}),HashSet:{HashSet:$.Class({Add:function(cN){return this.add(cN);},Clear:function(){this.data=[];this.count=0;return;},Contains:function(cO){var cP;cP=this.data[this.hash.call(null,cO)];return cP==null?false:this.arrContains(cO,cP);},CopyTo:function(cQ){var cR,cS,cT,cU;cR=0;cS=w.concat(this.data);for(cT=0;cT<=cS.length-1;cT++){cU=cS[cT];cQ[cR]=cU;cR=cR+1;}return;},ExceptWith:function(cV){var cW;cW=j.Get(cV);while(cW.MoveNext()){this.Remove(cW.get_Current());}return;},GetEnumerator:function(){return j.Get(w.concat(this.data));},IntersectWith:function(cX){var cY,cZ,c0,c1;cY=x.New3(cX,this.equals,this.hash);cZ=w.concat(this.data);for(c0=0;c0<=cZ.length-1;c0++){c1=cZ[c0];if(!cY.Contains(c1)){this.Remove(c1);}}return;},IsProperSubsetOf:function(c2){var c3;c3=h.ofSeq(c2);return this.count<i.GetLength(c3)?this.IsSubsetOf(c3):false;},IsProperSupersetOf:function(c4){var c5;c5=h.ofSeq(c4);return this.count>i.GetLength(c5)?this.IsSupersetOf(c5):false;},IsSubsetOf:function(c6){var c7;c7=x.New3(c6,this.equals,this.hash);return e.forall(function(c8){return c7.Contains(c8);},w.concat(this.data));},IsSupersetOf:function(c9){var c$=this;return e.forall(function(c_){return c$.Contains(c_);},c9);},Overlaps:function(da){var dc=this;return e.exists(function(db){return dc.Contains(db);},da);},Remove:function(dd){var de;de=this.data[this.hash.call(null,dd)];if(de==null){return false;}else{if(this.arrRemove(dd,de)){this.count=this.count-1;return true;}else{return false;}}},RemoveWhere:function(df){var dg,dh,di;dg=w.concat(this.data);for(dh=0;dh<=dg.length-1;dh++){di=dg[dh];if(df(di)){this.Remove(di);}}return;},SetEquals:function(dj){var dk;dk=x.New3(dj,this.equals,this.hash);return this.get_Count()===dk.get_Count()?this.IsSupersetOf(dk):false;},SymmetricExceptWith:function(dl){var dm,dn;dm=j.Get(dl);while(dm.MoveNext()){dn=dm.get_Current();if(this.Contains(dn)){this.Remove(dn);}else{this.Add(dn);}}return;},UnionWith:function(_do){var dp;dp=j.Get(_do);while(dp.MoveNext()){this.Add(dp.get_Current());}return;},add:function(dq){var dr,ds;dr=this.hash.call(null,dq);ds=this.data[dr];if(ds==null){this.data[dr]=[dq];this.count=this.count+1;return true;}else{if(this.arrContains(dq,ds)){return false;}else{ds.push(dq);this.count=this.count+1;return true;}}},arrContains:function(dt,du){var dv,dw,dx;dv=true;dw=0;dx=i.GetLength(du);while(dv?dw<dx:false){if((this.equals.call(null,du[dw]))(dt)){dv=false;}else{dw=dw+1;}}return!dv;},arrRemove:function(dy,dz){var dA,dB,dC;dA=true;dB=0;dC=i.GetLength(dz);while(dA?dB<dC:false){if((this.equals.call(null,dz[dB]))(dy)){y.splice(dz,dB,1,[]);dA=false;}else{dB=dB+1;}}return!dA;},get_Count:function(){return this.count;}},{New:function(dD){return $.New(this,x.New3(e.empty(),function(dE){return function(dF){return dD.Equals(dE,dF);};},function(dG){return dD.GetHashCode(dG);}));},New1:function(dH,dI){return $.New(this,x.New3(dH,function(dJ){return function(dK){return dI.Equals(dJ,dK);};},function(dL){return dI.GetHashCode(dL);}));},New11:function(dM){return $.New(this,x.New3(dM,function(dN){return function(dO){return n.Equals(dN,dO);};},function(dP){return n.Hash(dP);}));},New2:function(){return $.New(this,x.New3(e.empty(),function(dQ){return function(dR){return n.Equals(dQ,dR);};},function(dS){return n.Hash(dS);}));},New3:function(dT,dU,dV){var dW,dX;dW=$.New(this,{});dW.equals=dU;dW.hash=dV;dW.data=[];dW.count=0;dX=j.Get(dT);while(dX.MoveNext()){dW.add(dX.get_Current());}return dW;}}),HashSetUtil:{concat:function($o){var $0=this,$this=this;var r=[];for(var k in $o){r.push.apply(r,$o[k]);};return r;}}},LinkedList:{EnumeratorProxy:$.Class({Dispose:function(){return null;},MoveNext:function(){this.c=this.c.n;return!n.Equals(this.c,null);},get_Current:function(){return this.c.v;}},{New:function(dY){var dZ;dZ=$.New(this,{});dZ.c=dY;return dZ;}}),ListProxy:$.Class({AddAfter:function(d0,d1){var d2,d3;d2=d0.n;d3={p:d0,n:d2,v:d1};if(n.Equals(d0.n,null)){this.p=d3;}d0.n=d3;if(!n.Equals(d2,null)){d2.p=d3;}this.c=this.c+1;return d3;},AddBefore:function(d4,d5){var d6,d7;d6=d4.p;d7={p:d6,n:d4,v:d5};if(n.Equals(d4.p,null)){this.n=d7;}d4.p=d7;if(!n.Equals(d6,null)){d6.n=d7;}this.c=this.c+1;return d7;},AddFirst:function(d8){var d9;if(this.c===0){d9={p:null,n:null,v:d8};this.n=d9;this.p=this.n;this.c=1;return d9;}else{return this.AddBefore(this.n,d8);}},AddLast:function(d_){var d$;if(this.c===0){d$={p:null,n:null,v:d_};this.n=d$;this.p=this.n;this.c=1;return d$;}else{return this.AddAfter(this.p,d_);}},Clear:function(){this.c=0;this.n=null;this.p=null;return;},Contains:function(ea){var eb,ec;eb=false;ec=this.n;while(!n.Equals(ec,null)?!eb:false){if(ec.v==ea){eb=true;}else{ec=ec.n;}}return eb;},Find:function(ed){var ee,ef;ee=this.n;ef=true;while(ef?!n.Equals(ee,null):false){if(ee.v==ed){ef=false;}else{ee=ee.n;}}return ef?null:ee;},FindLast:function(eg){var eh,ei;eh=this.p;ei=true;while(ei?!n.Equals(eh,null):false){if(eh.v==eg){ei=false;}else{eh=eh.p;}}return ei?null:eh;},GetEnumerator:function(){return A.New(this);},Remove:function(ej){var ek,el;ek=ej.p;el=ej.n;if(n.Equals(ek,null)){this.n=el;}else{ek.n=el;}if(n.Equals(el,null)){this.p=ek;}else{el.p=ek;}this.c=this.c-1;return;},Remove1:function(em){var en;en=this.Find(em);if(n.Equals(en,null)){return false;}else{this.Remove(en);return true;}},RemoveFirst:function(){return this.Remove(this.n);},RemoveLast:function(){return this.Remove(this.p);},get_Count:function(){return this.c;},get_First:function(){return this.n;},get_Last:function(){return this.p;}},{New:function(){return $.New(this,B.New1(e.empty()));},New1:function(eo){var ep,eq,er;ep=$.New(this,{});ep.c=0;ep.n=null;ep.p=null;eq=j.Get(eo);if(eq.MoveNext()){ep.n={p:null,n:null,v:eq.get_Current()};ep.p=ep.n;ep.c=1;}while(eq.MoveNext()){er={p:ep.p,n:null,v:eq.get_Current()};ep.p.n=er;ep.p=er;ep.c=ep.c+1;}return ep;}})},MapModule:{Exists:function(es,et){return e.exists(function(eu){return(es(eu.K))(eu.V);},et);},Filter:function(ev,ew){var ex;ex=e.toArray(e.filter(function(ey){return(ev(ey.Key))(ey.Value);},c.Enumerate(false,ew.get_Tree())));return o.New1(c.Build(ex,0,ex.length-1));},FindKey:function(ez,eA){return e.pick(function(eB){return(ez(eB.K))(eB.V)?{$:1,$0:eB.K}:{$:0};},eA);},Fold:function(eC,eD,eE){return e.fold(function(eF){return function(eG){return((eC(eF))(eG.Key))(eG.Value);};},eD,c.Enumerate(false,eE.get_Tree()));},FoldBack:function(eH,eI,eJ){return e.fold(function(eK){return function(eL){return((eH(eL.Key))(eL.Value))(eK);};},eJ,c.Enumerate(true,eI.get_Tree()));},ForAll:function(eM,eN){return e.forall(function(eO){return(eM(eO.K))(eO.V);},eN);},Iterate:function(eP,eQ){return e.iter(function(eR){return(eP(eR.K))(eR.V);},eQ);},Map:function(eS,eT){return o.New1(c.OfSeq(e.map(function(eU){return $.New(p,{Key:eU.Key,Value:(eS(eU.Key))(eU.Value)});},c.Enumerate(false,eT.get_Tree()))));},OfArray:function(eV){return o.New1(c.OfSeq(e.map($.Tupled(function(eW){return $.New(p,{Key:eW[0],Value:eW[1]});}),eV)));},Partition:function(eX,eY){var eZ,e1,e2;eZ=h.partition(function(e0){return(eX(e0.Key))(e0.Value);},e.toArray(c.Enumerate(false,eY.get_Tree())));e1=eZ[1];e2=eZ[0];return[o.New1(c.Build(e2,0,e2.length-1)),o.New1(c.Build(e1,0,e1.length-1))];},Pick:function(e3,e4){return e.pick(function(e5){return(e3(e5.K))(e5.V);},e4);},ToSeq:function(e6){return e.map(function(e7){return[e7.Key,e7.Value];},c.Enumerate(false,e6.get_Tree()));},TryFind:function(e8,e9){return e9.TryFind(e8);},TryFindKey:function(e_,e$){return e.tryPick(function(fa){return(e_(fa.K))(fa.V)?{$:1,$0:fa.K}:{$:0};},e$);},TryPick:function(fb,fc){return e.tryPick(function(fd){return(fb(fd.K))(fd.V);},fc);}},MapUtil:{fromSeq:function(fe){var ff;ff=e.toArray(e.delay(function(){return e.collect($.Tupled(function(fh){return[$.New(p,{Key:fh[0],Value:fh[1]})];}),e.distinctBy($.Tupled(function(fi){return fi[0];}),fe));}));h.sortInPlace(ff);return c.Build(ff,0,ff.length-1);}},Pair:$.Class({CompareTo:function(fj){return d.Compare(this.Key,fj.Key);},Equals:function(fk){return n.Equals(this.Key,fk.Key);},GetHashCode:function(){return n.Hash(this.Key);}}),ResizeArray:{ResizeArrayProxy:$.Class({Add:function(fl){return this.arr.push(fl);},AddRange:function(fm){var fo=this;return e.iter(function(fn){return fo.Add(fn);},fm);},Clear:function(){y.splice(this.arr,0,i.GetLength(this.arr),[]);},CopyTo:function(fp){return this.CopyTo1(fp,0);},CopyTo1:function(fq,fr){return this.CopyTo2(0,fq,fr,this.get_Count());},CopyTo2:function(fs,ft,fu,fv){return h.blit(this.arr,fs,ft,fu,fv);},GetEnumerator:function(){return j.Get(this.arr);},GetRange:function(fw,fx){return C.New(h.sub(this.arr,fw,fx));},Insert:function(fy,fz){y.splice(this.arr,fy,0,[fz]);},InsertRange:function(fA,fB){y.splice(this.arr,fA,0,e.toArray(fB));},RemoveAt:function(fC){y.splice(this.arr,fC,1,[]);},RemoveRange:function(fD,fE){y.splice(this.arr,fD,fE,[]);},Reverse:function(){return this.arr.reverse();},Reverse1:function(fF,fG){return h.reverse(this.arr,fF,fG);},ToArray:function(){return this.arr.slice();},get_Count:function(){return i.GetLength(this.arr);},get_Item:function(fH){return this.arr[fH];},set_Item:function(fI,fJ){this.arr[fI]=fJ;}},{New:function(fK){var fL;fL=$.New(this,{});fL.arr=fK;return fL;},New1:function(){return $.New(this,C.New([]));},New11:function(fM){return $.New(this,C.New(e.toArray(fM)));},New2:function(){return $.New(this,C.New([]));}}),splice:function($arr,$index,$howMany,$items){var $0=this,$this=this;return $$.Array.prototype.splice.apply($arr,[$index,$howMany].concat($items));}},SetModule:{Filter:function(fO,fP){var fQ;fQ=e.toArray(e.filter(fO,fP));return s.New1(c.Build(fQ,0,fQ.length-1));},FoldBack:function(fR,fS,fT){return e.fold(function(fU){return function(fV){return(fR(fV))(fU);};},fT,c.Enumerate(true,fS.get_Tree()));},Partition:function(fW,fX){var fY,fZ;fY=h.partition(fW,e.toArray(fX));fZ=fY[1];return[s.New1(c.OfSeq(fY[0])),s.New1(c.OfSeq(fZ))];}},SetUtil:{ofSeq:function(f0){var f1;f1=e.toArray(f0);h.sortInPlace(f1);return c.Build(f1,0,f1.length-1);}}}}}});$.OnInit(function(){a=$.Safe($$.IntelliFactory.WebSharper);b=$.Safe(a.Collections);c=$.Safe(b.BalancedTree);d=$.Safe(a.Operators);e=$.Safe(a.Seq);f=$.Safe(a.List);g=$.Safe(f.T);h=$.Safe(a.Arrays);i=$.Safe(a.IntrinsicFunctionProxy);j=$.Safe(a.Enumerator);k=$.Safe(a.JavaScript);l=$.Safe(b.DictionaryUtil);m=$.Safe(b.Dictionary);n=$.Safe(a.Unchecked);o=$.Safe(b.FSharpMap);p=$.Safe(b.Pair);q=$.Safe(a.Option);r=$.Safe(b.MapUtil);s=$.Safe(b.FSharpSet);t=$.Safe(b.SetModule);u=$.Safe(b.SetUtil);v=$.Safe(b.HashSet);w=$.Safe(v.HashSetUtil);x=$.Safe(v.HashSet);y=$.Safe(b.ResizeArray);z=$.Safe(b.LinkedList);A=$.Safe(z.EnumeratorProxy);B=$.Safe(z.ListProxy);return C=$.Safe(y.ResizeArrayProxy);});$.OnLoad(function(){return;});}());
