(function(){var $$=this,$=this.IntelliFactory.Runtime,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_0,_1,_2,_3,_4,_5,_6,_7;$.Define($$,{Sitelet:{Bar:{Order:$.Class({},{Show:function(_8){return _8.$==2?"Asc":_8.$==1?"Desc":"None";}}),data:$.Field(function(){return b.mapi(function(_9){return function(_){return{X:_,Index:_9,OldIndex:_9};};},d.dataset());}),dataset:$.Field(function(){return[5,10,13,19,21,25,22,18,15,13,11,12,15,20,18,17,16,18,23,25];}),h:$.Field(function(){return 250;}),main:function(){var ba,bb,bc,bd,be,bf,bv,bw;ba=e.scale.ordinal().domain(e.range(f.GetLength(d.dataset()))).rangeRoundBands([0,d.w()],0.5);bb=e.scale.linear().domain([0,e.max(d.dataset())]).range([0,d.h()]);bc=e.select("#bar-chart").append("svg").attr("width",d.w()).attr("height",d.h());bc.append("g").attr("id","bar-svg");bd=i.Create($.New(j,{$:0}));be=i.Create($.New(j,{$:0}));bf=function(bg){var bm;if(bg.$==2){k.Set(bd,$.New(j,{$:2}));return b.mapi(function(bh){return function(bi){return{X:bi.X,Index:bh,OldIndex:bi.Index};};},b.sortBy(function(bi){return bi.X;},d.data()));}else{if(bg.$==1){k.Set(bd,$.New(j,{$:1}));return b.mapi(function(bj){return function(bk){return{X:bk.X,Index:bj,OldIndex:bk.Index};};},b.sortBy(function(bl){return bl.X;},d.data()).slice().reverse());}else{bm=i.Get(bd);k.Set(bd,$.New(j,{$:0}));return bm.$==2?b.mapi(function(bn){return function(bo){var bp;bp=(d.data())[bn];return{X:bp.X,Index:bp.Index,OldIndex:bo.Index};};},b.sortBy(function(bq){return bq.X;},d.data())):bm.$==1?b.mapi(function(br){return function(bs){var bt;bt=(d.data())[br];return{X:bt.X,Index:bt.Index,OldIndex:bs.Index};};},b.sortBy(function(bu){return bu.X;},d.data()).slice().reverse()):d.data();}}};bv=be.get_View();bw=l.Map(bf,bv);m.RunById("bar-svg",m.EmbedView(l.Map(function(bx){return m.Concat(b.map(function(by){return d.render(ba,bb,by);},bx));},bw)));return m.RunById("bar",n.Div(o.ofArray([p.Style("margin-bottom","10px")]),o.ofArray([m.TextNode("Order: "),m.Select($.New(q,{$:0}),function(bz){return j.Show(bz);},o.ofArray([$.New(j,{$:0}),$.New(j,{$:2}),$.New(j,{$:1})]),be)])));},render:function(bA,bB,bC){var bD,bE,bF,bG,bH,bJ;bD=bC.Index;bE=bA(bC.OldIndex);bF=r(bC.X);bG=d.simpleTrans();bH=s.Enter(function(bI){return d.simpleAnim(bE,bI);},bG);bJ=function(bK){return $$.String(bK);};return m.Concat(o.ofArray([t.Rect(o.ofArray([p.Create("y",$$.String(d.h()-bB(bF))),p.Create("width",$$.String(bA.rangeBand())),p.Create("height",$$.String(bB(bF))),p.Create("fill","steelblue"),p.Animated("x",bH,l.Map(function(bL){return bL;},u.Const(bA(bD))),bJ)]),$.New(q,{$:0})),t.Text(v.toList(v.delay(function(){return v.append([p.Create("text-anchor","middle")],v.delay(function(){return v.append([p.Create("font-family","sans-serif")],v.delay(function(){return v.append([p.Create("font-size","11px")],v.delay(function(){return v.append([p.Create("fill","white")],v.delay(function(){var bR,bS;if(bC.OldIndex===bD){bR=[p.Create("x",$$.String(bA(bD)+7))];}else{bS=function(bT){return $$.String(bT);};bR=[p.Animated("x",bH,l.Map(function(bU){return bU;},u.Const(bA(bD)+7)),bS)];}return v.append(bR,v.delay(function(){return[p.Create("y",$$.String(d.h()-bB(bF)+15))];}));}));}));}));}));})),o.ofArray([m.TextNode($$.String(bF))]))]));},simpleAnim:function(bW,bX){return w.Simple(x.get_Double(),y.get_CubicInOut(),400,bW,bX);},simpleTrans:$.Field(function(){return s.Create(function(bY){return function(bZ){return d.simpleAnim(bY,bZ);};});}),w:$.Field(function(){return 600;})},Client:{main:function(){var b0,b1,b6;b0=A.New();b0.max=60;b0.min=20;b0.values=[25,55];b0.range=true;b1=B.New1(b0);b1.OnSlide(function(){var b3,b4;b3=b1.get_Values();b4=C.age();return($.Tupled(function(b5){return k.Set(b4,b5);}))([b3[0],b3[1]]);});b6=E.add(F.Div(o.ofArray([F.Attr().Class("container")])),o.ofArray([E.add(F.Div(o.ofArray([F.Attr().Class("example")])),o.ofArray([F.H1(o.ofArray([F.Text("Slider"),F.Attr().Class("page-header")])),E.add(F.Div(o.ofArray([F.Attr().NewAttr("id","slider-container")])),o.ofArray([F.Div(o.ofArray([F.Attr().NewAttr("id","slider")]))]))]))]));E.OnAfterRender(function(){return G.main();},b6);return b6;}},Controls:{EntryPoint:$.Class({get_Body:function(){return H.main();}})},GoogleDashboard:{Gender:$.Class({},{Show:function(b8){return b8.$==1?"Male":b8.$==2?"None":"Female";}}),age:$.Field(function(){return i.Create([20,60]);}),data:$.Field(function(){return o.ofArray([{Name:"Michael",Gender:$.New(I,{$:1}),Age:24,DonutsEaten:5},{Name:"Elisa",Gender:$.New(I,{$:0}),Age:31,DonutsEaten:4},{Name:"John",Gender:$.New(I,{$:1}),Age:40,DonutsEaten:1},{Name:"Jessica",Gender:$.New(I,{$:0}),Age:37,DonutsEaten:3},{Name:"Margareth",Gender:$.New(I,{$:0}),Age:53,DonutsEaten:2},{Name:"Miranda",Gender:$.New(I,{$:0}),Age:25,DonutsEaten:3},{Name:"Jack",Gender:$.New(I,{$:1}),Age:26,DonutsEaten:2}]);}),gender:$.Field(function(){return i.Create($.New(I,{$:2}));}),main:function(){var b9,cc,cd,ce,cg;b9=function(b_){return $.Tupled(function(b$){return o.filter(function(ca){return ca.Age<b$[1]?ca.Age>b$[0]:false;},b_.$==2?C.data():o.filter(function(cb){return J.Equals(cb.Gender,b_);},C.data()));});};cc=C.gender().get_View();cd=C.age().get_View();ce=l.Map2(b9,cc,cd);m.RunById("google",m.EmbedView(l.Map(function(cf){return C.render(cf);},ce)));cg=C.age().get_View();m.RunById("min-max",m.TextView(l.Map($.Tupled(function(ch){var ci;ci=ch[1];return"Min: "+$$.String(ch[0])+" Max: "+$$.String(ci);}),cg)));return m.RunById("google-dash",n.Div($.New(q,{$:0}),o.ofArray([m.TextNode("Gender Selection: "),m.Select($.New(q,{$:0}),function(cj){return I.Show(cj);},o.ofArray([$.New(I,{$:2}),$.New(I,{$:0}),$.New(I,{$:1})]),C.gender())])));},render:function(ck){var cl,co,cp,cq,cr;cl=new M();cl.addColumn("string","Name");cl.addColumn("number","Donuts Eaten");cl.addRows(ck.get_Length());v.iteri(function(cm){return function(cn){cl.setCell(cm,0,cn.Name);return cl.setCell(cm,1,cn.DonutsEaten);};},ck);co=N.getElementById("google-pie");cp=new O(co);cq={};cp.draw(cl,cq);cr=new M();cr.addColumn("string","Name");cr.addColumn("string","Gender");cr.addColumn("number","Age");cr.addColumn("number","Donuts Eaten");cr.addRows(ck.get_Length());v.iteri(function(cs){return function(ct){cr.setCell(cs,0,ct.Name);cr.setCell(cs,1,ct.Gender.$==0?"Female":"Male");cr.setCell(cs,2,ct.Age);return cr.setCell(cs,3,ct.DonutsEaten);};},ck);(new P(N.getElementById("google-table"))).draw(cr,{});return m.get_Empty();}},Hello:{inputField:$.Field(function(){return m.Input($.New(q,{$:0}),Q.nameVar());}),label:$.Field(function(){return m.TextView(l.Map(function(cu){return"Hello "+cu+"!";},Q.nameVar().get_View()));}),main:function(){return n.Div0(o.ofArray([n.Label0(o.ofArray([m.TextNode("Name:")])),n.Div0(o.ofArray([Q.inputField()])),n.H20(o.ofArray([Q.label()]))]));},nameVar:$.Field(function(){return i.Create("");})},Phoneword:{inputField:$.Field(function(){return m.Input($.New(q,{$:0}),R.phoneVar());}),label:$.Field(function(){return m.TextView(l.Map(function(cv){return R.toNumber(cv);},R.phoneVar().get_View()));}),main:function(){return n.Div0(o.ofArray([n.Label0(o.ofArray([m.TextNode("Phoneword:")])),n.Div0(o.ofArray([R.inputField()])),n.H20(o.ofArray([R.label()]))]));},phoneVar:$.Field(function(){return i.Create("1-645-COMPANY");}),toNumber:function(cw){return S.concat("",v.choose(function(cx){var cy,cz;cy=T.fromCharCode(cx);if(" -0123456789".indexOf(cy)!=-1){return{$:1,$0:cy};}else{cz=R.translate(cy);return cz.$==1?{$:1,$0:$$.String(cz.$0)}:{$:0};}},cw.toUpperCase()));},translate:function(cA){var cB,cC,cD;cB=R["|Contains|_|"]("ABC",cA);if(cB.$==1){return{$:1,$0:2};}else{cC=R["|Contains|_|"]("DEF",cA);if(cC.$==1){return{$:1,$0:3};}else{cD=R["|Contains|_|"]("GHI",cA);return cD.$==1?{$:1,$0:4}:R["|Contains|_|"]("JKL",cA).$==1?{$:1,$0:5}:R["|Contains|_|"]("MNO",cA).$==1?{$:1,$0:6}:R["|Contains|_|"]("PQRS",cA).$==1?{$:1,$0:7}:R["|Contains|_|"]("TUV",cA).$==1?{$:1,$0:8}:R["|Contains|_|"]("WXYZ",cA).$==1?{$:1,$0:9}:{$:0};}}},"|Contains|_|":function(cE,cF){return cE.indexOf(cF)!=-1?{$:1,$0:cF}:{$:0};}},Scatter:{Point:$.Class({},{Create:function(cG,cH){return $.New(V,{X:cG,Y:cH,Key:W.Fresh()});}}),PointModel:$.Class({Add:function(cI){this.arr.Add(cI);return X.Update(function(){return null;},this.model);},get_MaxX:function(){return r(v.maxBy(function(cK){return cK.X;},this.arr).X);},get_MaxY:function(){return r(v.maxBy(function(cL){return cL.Y;},this.arr).Y);},get_View:function(){return Y.View(this.model);}},{New:function(cM){var cN;cN=$.New(this,{});cN.arr=_1.New1();cN.arr.AddRange(cM);cN.model=X.Create(function(cO){return cO.ToArray();},cN.arr);return cN;}}),h:$.Field(function(){return 300;}),main:function(){var cP,cQ,cR,cS,cT,cU,cV,cW,cX,cY,cZ,c2;cP=_2.New(U.points());cQ=e.scale.linear().domain([0,cP.get_MaxX()]).range([U.padding(),U.w()-U.padding()*2]);cR=e.scale.linear().domain([0,cP.get_MaxY()]).range([U.h()-U.padding(),U.padding()]);cS=e.scale.linear().domain([0,cP.get_MaxY()]).range([2,5]);cT=e.svg.axis().scale(cQ).orient("bottom");cU=[5];cV=cT.ticks.apply(cT,[].concat(cU));cW=e.svg.axis().scale(cR).orient("left");cX=[5];cY=cW.ticks.apply(cW,[].concat(cX));cZ=e.select("#scatter").append("svg").attr("width",U.w()).attr("height",U.h());cZ.append("g").attr("id","scatter-svg").style("fill","steelblue");cZ.append("g").attr("class","axis").attr("transform","translate(0,"+$$.String(U.h()-U.padding())+")").call(function(c0){return cV(c0);});cZ.append("g").attr("class","axis").attr("transform","translate("+$$.String(U.padding())+",0)").call(function(c1){return cY(c1);});c2=function(c3){return U.scale(cQ,cR,cS,c3);};m.RunById("scatter-svg",m.ConvertBy(function(c4){return c4.Key;},function(c5){return U.render(c2,c5);},cP.get_View()));_3(function(){return cP.Add(V.Create(_4.floor(_4.random()*cP.get_MaxX()),_4.floor(_4.random()*cP.get_MaxY())));},1000);return;},padding:$.Field(function(){return 30;}),points:$.Field(function(){return o.map(function(){return V.Create(_4.floor(_4.random()*U.range()),_4.floor(_4.random()*U.range()));},v.toList(_5.range(0,19)));}),range:$.Field(function(){return _4.random()*1000;}),render:function(c8,c9){var c_,c$,da;c_=c8(c9);c$=c_[2];da=c_[1];return t.Circle(o.ofArray([p.Create("cx",$$.String(c_[0])),p.Create("cy",$$.String(da)),p.Create("r",$$.String(c$))]),$.New(q,{$:0}));},scale:function(db,dc,dd,de){return[db(r(de.X)),dc(r(de.Y)),dd(r(de.Y))];},w:$.Field(function(){return 500;})},Slider:{fade:$.Field(function(){var df,dg;df=x.get_Double();dg=y.get_CubicInOut();return function(dh){return function(di){return w.Simple(df,dg,1000,dh,di);};};}),fadeInTrans:$.Field(function(){return s.Enter(function(){return((G.fade())(0))(1);},s.Create(G.fade()));}),fadeOutTrans:$.Field(function(){return s.Enter(function(){return((G.fade())(1))(0);},s.Create(G.fade()));}),main:function(){var dm,dx;m.RunById("slider",m.EmbedView(l.Map(function(dl){return G.render(dl);},G.settingsVar().get_View())));dm=_3(function(){var _do,dp,dq,dr,ds,dt,du,dv,dw;_do=i.Get(G.settingsVar());dp=_do.Hover;if(dp){return null;}else{dq=_do.Imgs;if(dq[0]===6){if(dq[1]===7){return k.Set(G.settingsVar(),{Imgs:[7,1],Hover:_do.Hover,Direction:_do.Direction});}else{dr=dq[0];ds=dq[1];return k.Set(G.settingsVar(),{Imgs:[dr+1,ds+1],Hover:_do.Hover,Direction:_do.Direction});}}else{if(dq[0]===7){if(dq[1]===1){return k.Set(G.settingsVar(),{Imgs:[1,2],Hover:_do.Hover,Direction:_do.Direction});}else{dt=dq[0];du=dq[1];return k.Set(G.settingsVar(),{Imgs:[dt+1,du+1],Hover:_do.Hover,Direction:_do.Direction});}}else{dv=dq[0];dw=dq[1];return k.Set(G.settingsVar(),{Imgs:[dv+1,dw+1],Hover:_do.Hover,Direction:_do.Direction});}}}},2000);dx=i.Create(dm);return _6("#slider, #prev-slide, #next-slide").hover(function(){return _7(i.Get(dx));},function(){return k.Set(dx,_3(function(){var dB,dC,dD,dE,dF,dG,dH,dI,dJ,dK,dL,dM,dN,dO,dP,dQ,dR,dS,dT;dB=i.Get(G.settingsVar());dC=dB.Hover;if(dC){return null;}else{dD=dB.Imgs;if(dD[0]===6){if(dD[1]===7){dE=G.settingsVar();dF={$:1};return k.Set(dE,{Imgs:[7,1],Hover:dB.Hover,Direction:dF});}else{dG=dD[0];dH=dD[1];dI=G.settingsVar();dJ={$:1};return k.Set(dI,{Imgs:[dG+1,dH+1],Hover:dB.Hover,Direction:dJ});}}else{if(dD[0]===7){if(dD[1]===1){dK=G.settingsVar();dL={$:1};return k.Set(dK,{Imgs:[1,2],Hover:dB.Hover,Direction:dL});}else{dM=dD[0];dN=dD[1];dO=G.settingsVar();dP={$:1};return k.Set(dO,{Imgs:[dM+1,dN+1],Hover:dB.Hover,Direction:dP});}}else{dQ=dD[0];dR=dD[1];dS=G.settingsVar();dT={$:1};return k.Set(dS,{Imgs:[dQ+1,dR+1],Hover:dB.Hover,Direction:dT});}}}},2000));});},render:function(dU){return m.Concat(v.toList(v.delay(function(){var dW,dX,dY,d0,d2,d4;dW=dU.Direction;if(dW.$==0){dY=function(dZ){return $$.String(dZ);};d0=function(d1){return $$.String(d1);};dX=[m.Concat(o.ofArray([m.Element("img",o.ofArray([p.Create("src","http://placekitten.com/200/200?image="+$$.String(dU.Imgs[0])),p.AnimatedStyle("opacity",G.fadeInTrans(),u.Const(1),dY)]),$.New(q,{$:0})),m.Element("img",o.ofArray([p.Create("src","http://placekitten.com/200/200?image="+$$.String(dU.Imgs[1])),p.AnimatedStyle("opacity",G.fadeOutTrans(),u.Const(0),d0)]),$.New(q,{$:0}))]))];}else{d2=function(d3){return $$.String(d3);};d4=function(d5){return $$.String(d5);};dX=[m.Concat(o.ofArray([m.Element("img",o.ofArray([p.Create("src","http://placekitten.com/200/200?image="+$$.String(dU.Imgs[0])),p.AnimatedStyle("opacity",G.fadeOutTrans(),u.Const(0),d2)]),$.New(q,{$:0})),m.Element("img",o.ofArray([p.Create("src","http://placekitten.com/200/200?image="+$$.String(dU.Imgs[1])),p.AnimatedStyle("opacity",G.fadeInTrans(),u.Const(1),d4)]),$.New(q,{$:0}))]))];}return v.append(dX,v.delay(function(){var d7;d7=o.ofArray([p.Create("id","prev-slide")]);return v.append([m.Link("Prev",d7,function(){var d9,d_,d$,ea,eb,ec;d9=G.settingsVar().get_Value().Direction;if(d9.$==0){d_=G.settingsVar();d$=G.settingsVar().get_Value();ea=G.settingsVar().get_Value().Imgs;return k.Set(d_,{Imgs:ea[0]===1?ea[1]===2?[7,1]:[ea[0]-1,ea[1]-1]:ea[0]===7?ea[1]===1?[6,7]:[ea[0]-1,ea[1]-1]:[ea[0]-1,ea[1]-1],Hover:d$.Hover,Direction:d$.Direction});}else{eb=G.settingsVar();ec=G.settingsVar().get_Value();return k.Set(eb,{Imgs:ec.Imgs,Hover:ec.Hover,Direction:{$:0}});}})],v.delay(function(){var ee;ee=o.ofArray([p.Create("id","next-slide")]);return[m.Link("Next",ee,function(){var eg,eh,ei,ej,ek,el;eg=G.settingsVar().get_Value().Direction;if(eg.$==1){eh=G.settingsVar();ei=G.settingsVar().get_Value();ej=G.settingsVar().get_Value().Imgs;return k.Set(eh,{Imgs:ej[0]===6?ej[1]===7?[7,1]:[ej[0]+1,ej[1]+1]:ej[0]===7?ej[1]===1?[1,2]:[ej[0]+1,ej[1]+1]:[ej[0]+1,ej[1]+1],Hover:ei.Hover,Direction:ei.Direction});}else{ek=G.settingsVar();el=G.settingsVar().get_Value();return k.Set(ek,{Imgs:el.Imgs,Hover:el.Hover,Direction:{$:1}});}})];}));}));})));},settingsVar:$.Field(function(){return i.Create({Imgs:[1,2],Hover:false,Direction:{$:1}});})}}});$.OnInit(function(){a=$.Safe($$.IntelliFactory.WebSharper);b=$.Safe(a.Arrays);c=$.Safe($$.Sitelet);d=$.Safe(c.Bar);e=$.Safe($$.d3);f=$.Safe(a.IntrinsicFunctionProxy);g=$.Safe(a.UI);h=$.Safe(g.Next);i=$.Safe(h.Var1);j=$.Safe(d.Order);k=$.Safe(h.Var);l=$.Safe(h.View1);m=$.Safe(h.Doc);n=$.Safe(h.Html);o=$.Safe(a.List);p=$.Safe(h.Attr);q=$.Safe(o.T);r=$.Safe($$.Number);s=$.Safe(h.Trans);t=$.Safe(n.SvgElements);u=$.Safe(h.View);v=$.Safe(a.Seq);w=$.Safe(h.An);x=$.Safe(h.Interpolation);y=$.Safe(h.Easing);z=$.Safe(a.JQueryUI);A=$.Safe(z.SliderConfiguration);B=$.Safe(z.Slider);C=$.Safe(c.GoogleDashboard);D=$.Safe(a.Html);E=$.Safe(D.Operators);F=$.Safe(D.Default);G=$.Safe(c.Slider);H=$.Safe(c.Client);I=$.Safe(C.Gender);J=$.Safe(a.Unchecked);K=$.Safe($$.google);L=$.Safe(K.visualization);M=$.Safe(L.DataTable);N=$.Safe($$.document);O=$.Safe(L.PieChart);P=$.Safe(L.Table);Q=$.Safe(c.Hello);R=$.Safe(c.Phoneword);S=$.Safe(a.Strings);T=$.Safe($$.String);U=$.Safe(c.Scatter);V=$.Safe(U.Point);W=$.Safe(h.Key);X=$.Safe(h.Model1);Y=$.Safe(h.Model);Z=$.Safe(a.Collections);_0=$.Safe(Z.ResizeArray);_1=$.Safe(_0.ResizeArrayProxy);_2=$.Safe(U.PointModel);_3=$.Safe($$.setInterval);_4=$.Safe($$.Math);_5=$.Safe(a.Operators);_6=$.Safe($$.jQuery);return _7=$.Safe($$.clearInterval);});$.OnLoad(function(){G.settingsVar();G.fadeOutTrans();G.fadeInTrans();G.fade();U.w();U.range();U.points();U.padding();U.h();R.phoneVar();R.label();R.inputField();Q.nameVar();Q.label();Q.inputField();C.gender();C.data();C.age();d.w();d.simpleTrans();d.h();d.dataset();d.data();return;});}());
