(function(){var $$=this,$=this.IntelliFactory.Runtime,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_0,_1,_2,_3,_4,_5,_6,_7;$.Define($$,{Sitelet:{Bar:{Order:$.Class({},{Show:function(_8){return _8.$==1?"Desc":"Asc";}}),data:$.Field(function(){return b.mapi(function(_9){return function(_){return{X:_,Index:_9,OldIndex:_9};};},d.dataset());}),dataVar:$.Field(function(){return g.Create(d.data());}),dataset:$.Field(function(){return[5,10,13,19,21,25,22,18,15,13,11,12,15,20,18,17,16,18,23,25];}),h:$.Field(function(){return 250;}),main:function(){var ba,bb,bc;ba=h.scale.ordinal().domain(h.range(i.GetLength(d.dataset()))).rangeRoundBands([0,d.w()],0.5);bb=h.scale.linear().domain([0,h.max(d.dataset())]).range([0,d.h()]);bc=h.select("#bar-chart").append("svg").attr("width",d.w()).attr("height",d.h());bc.append("g").attr("id","bar-svg");j.RunById("bar-svg",j.EmbedView(k.Map(function(bd){return d.showDatums(ba,bb,bd);},k.FromVar(d.order()))));return j.RunById("bar",l.Div(m.ofArray([n.Style("margin-bottom","10px")]),m.ofArray([j.TextNode("Order: "),j.Select($.New(o,{$:0}),function(bd){return p.Show(bd);},m.ofArray([$.New(p,{$:0}),$.New(p,{$:1})]),d.order())])));},order:$.Field(function(){return g.Create($.New(p,{$:0}));}),render:function(be,bf,bg){var bh,bi,bj,bk,bl,bn,bq;bh=bg.Index;bi=be(bg.OldIndex);bj=q(bg.X);bk=d.simpleTrans();bl=r.Enter(function(bm){return d.simpleAnim(bi,bm);},bk);bn=function(bo){return $$.String(bo);};bq=function(br){return $$.String(br);};return j.Concat(m.ofArray([s.Rect(m.ofArray([n.Create("y",$$.String(d.h()-bf(bj))),n.Create("width",$$.String(be.rangeBand())),n.Create("height",$$.String(bf(bj))),n.Create("fill","steelblue"),n.Animated("x",bl,k.Map(function(bp){return bp;},t.Const(be(bh))),bn)]),$.New(o,{$:0})),s.Text(m.ofArray([n.Create("text-anchor","middle"),n.Create("font-family","sans-serif"),n.Create("font-size","11px"),n.Create("fill","white"),n.Animated("x",bl,k.Map(function(bs){return bs;},t.Const(be(bh)+7)),bq),n.Create("y",$$.String(d.h()-bf(bj)+15))]),m.ofArray([j.TextNode($$.String(bj))]))]));},showDatums:function(bt,bu,bv){var bx,by,bC;if(bv.$==1){by=b.mapi(function(bz){return function(bA){return{X:bA.X,Index:bz,OldIndex:bA.Index};};},b.sortBy(function(bB){return bB.X;},g.Get(d.dataVar())).slice().reverse());u.Set(d.dataVar(),by);bx=by;}else{bC=b.mapi(function(bD){return function(bE){return{X:bE.X,Index:bD,OldIndex:bE.Index};};},b.sortBy(function(bF){return bF.X;},g.Get(d.dataVar())));u.Set(d.dataVar(),bC);bx=bC;}return j.Concat(b.map(function(bw){return d.render(bt,bu,bw);},bx));},simpleAnim:function(bG,bH){return v.Simple(w.get_Double(),x.get_CubicInOut(),400,bG,bH);},simpleTrans:$.Field(function(){return r.Create(function(bI){return function(bJ){return d.simpleAnim(bI,bJ);};});}),w:$.Field(function(){return 600;})},Client:{main:function(){var bK,bL,bQ;bK=z.New();bK.max=60;bK.min=20;bK.values=[25,55];bK.range=true;bL=A.New1(bK);bL.OnSlide(function(){var bN,bO;bN=bL.get_Values();bO=B.age();return($.Tupled(function(bP){return u.Set(bO,bP);}))([bN[0],bN[1]]);});bQ=D.add(E.Div(m.ofArray([E.Attr().Class("container")])),m.ofArray([D.add(E.Div(m.ofArray([E.Attr().Class("example"),E.Attr().NewAttr("id","hello-world")])),m.ofArray([E.H1(m.ofArray([E.Text("Hello"),E.Attr().Class("page-header")])),E.Div(m.ofArray([E.Attr().NewAttr("id","hello")]))])),E.Hr($.New(o,{$:0})),D.add(E.Div(m.ofArray([E.Attr().Class("example"),E.Attr().NewAttr("id","dynamic-scatterplot")])),m.ofArray([E.H1(m.ofArray([E.Text("Dynamic Scatterplot"),E.Attr().Class("page-header")])),E.Div(m.ofArray([E.Attr().NewAttr("id","scatter")]))])),E.Hr($.New(o,{$:0})),D.add(E.Div(m.ofArray([E.Attr().Class("example"),E.Attr().NewAttr("id","translate-phoneword")])),m.ofArray([E.H1(m.ofArray([E.Text("Phoneword"),E.Attr().Class("page-header")])),E.Div(m.ofArray([E.Attr().NewAttr("id","phoneword")]))])),E.Hr($.New(o,{$:0})),D.add(E.Div(m.ofArray([E.Attr().Class("example"),E.Attr().NewAttr("id","column-chart")])),m.ofArray([E.H1(m.ofArray([E.Text("Column Chart"),E.Attr().Class("page-header")])),E.Div(m.ofArray([E.Attr().NewAttr("id","bar")])),E.Div(m.ofArray([E.Attr().NewAttr("id","bar-chart")]))])),E.Hr($.New(o,{$:0})),D.add(E.Div(m.ofArray([E.Attr().Class("example"),E.Attr().NewAttr("id","google-dashboard")])),m.ofArray([E.H1(m.ofArray([E.Text("Google Dashboard"),E.Attr().Class("page-header")])),D.add(E.Div(m.ofArray([E.Attr().Class("row"),E.Attr().NewAttr("style","margin-bottom:50px;")])),m.ofArray([D.add(E.Div(m.ofArray([E.Attr().Class("col-md-6")])),m.ofArray([E.Div(m.ofArray([E.Text("Age Selection")])),E.Div(m.ofArray([E.Attr().NewAttr("id","min-max"),E.Attr().NewAttr("style","margin-bottom:5px;")])),E.Div(m.ofArray([bL]))])),D.add(E.Div(m.ofArray([E.Attr().Class("col-md-6")])),m.ofArray([E.Div(m.ofArray([E.Attr().NewAttr("id","google-dash")]))]))])),D.add(E.Div(m.ofArray([E.Attr().Class("row")])),m.ofArray([D.add(E.Div(m.ofArray([E.Attr().Class("col-md-6")])),m.ofArray([E.Div(m.ofArray([E.Attr().NewAttr("style","height: 400px;"),E.Attr().NewAttr("id","google-pie")]))])),D.add(E.Div(m.ofArray([E.Attr().Class("col-md-6")])),m.ofArray([E.Div(m.ofArray([E.Attr().NewAttr("style","height: 400px;"),E.Attr().NewAttr("id","google-table")]))]))])),E.Div(m.ofArray([E.Attr().NewAttr("id","google")]))])),D.add(E.Div(m.ofArray([E.Attr().Class("example"),E.Attr().NewAttr("id","image-slider")])),m.ofArray([E.H1(m.ofArray([E.Text("Image Slider"),E.Attr().Class("page-header")])),D.add(E.Div(m.ofArray([E.Attr().NewAttr("id","slider-container")])),m.ofArray([E.Div(m.ofArray([E.Attr().NewAttr("id","slider")]))]))]))]));D.OnAfterRender(function(){j.RunById("hello",F.main());G.main();j.RunById("phoneword",H.main());d.main();B.main();return I.main();},bQ);return bQ;}},Controls:{EntryPoint:$.Class({get_Body:function(){return J.main();}})},GoogleDashboard:{Gender:$.Class({},{Show:function(bS){return bS.$==1?"Male":bS.$==2?"None":"Female";}}),age:$.Field(function(){return g.Create([20,60]);}),data:$.Field(function(){return m.ofArray([{Name:"Michael",Gender:$.New(K,{$:1}),Age:24,DonutsEaten:5},{Name:"Elisa",Gender:$.New(K,{$:0}),Age:31,DonutsEaten:4},{Name:"John",Gender:$.New(K,{$:1}),Age:40,DonutsEaten:1},{Name:"Jessica",Gender:$.New(K,{$:0}),Age:37,DonutsEaten:3},{Name:"Margareth",Gender:$.New(K,{$:0}),Age:53,DonutsEaten:2},{Name:"Miranda",Gender:$.New(K,{$:0}),Age:25,DonutsEaten:3},{Name:"Jack",Gender:$.New(K,{$:1}),Age:26,DonutsEaten:2}]);}),gender:$.Field(function(){return g.Create($.New(K,{$:2}));}),main:function(){var bT,bY,bZ,b0,b2;bT=function(bU){return $.Tupled(function(bV){return m.filter(function(bW){return bW.Age<bV[1]?bW.Age>bV[0]:false;},bU.$==2?B.data():m.filter(function(bX){return L.Equals(bX.Gender,bU);},B.data()));});};bY=B.gender().get_View();bZ=B.age().get_View();b0=k.Map2(bT,bY,bZ);j.RunById("google",j.EmbedView(k.Map(function(b1){return B.render(b1);},b0)));b2=B.age().get_View();j.RunById("min-max",j.TextView(k.Map($.Tupled(function(b3){var b4;b4=b3[1];return"Min: "+$$.String(b3[0])+" Max: "+$$.String(b4);}),b2)));return j.RunById("google-dash",l.Div($.New(o,{$:0}),m.ofArray([j.TextNode("Gender Selection: "),j.Select($.New(o,{$:0}),function(b5){return K.Show(b5);},m.ofArray([$.New(K,{$:2}),$.New(K,{$:0}),$.New(K,{$:1})]),B.gender())])));},render:function(b6){var b7,b_,b$,ca,cb;b7=new O();b7.addColumn("string","Name");b7.addColumn("number","Donuts Eaten");b7.addRows(b6.get_Length());P.iteri(function(b8){return function(b9){b7.setCell(b8,0,b9.Name);return b7.setCell(b8,1,b9.DonutsEaten);};},b6);b_=Q.getElementById("google-pie");b$=new R(b_);ca={};b$.draw(b7,ca);cb=new O();cb.addColumn("string","Name");cb.addColumn("string","Gender");cb.addColumn("number","Age");cb.addColumn("number","Donuts Eaten");cb.addRows(b6.get_Length());P.iteri(function(cc){return function(cd){cb.setCell(cc,0,cd.Name);cb.setCell(cc,1,cd.Gender.$==0?"Female":"Male");cb.setCell(cc,2,cd.Age);return cb.setCell(cc,3,cd.DonutsEaten);};},b6);(new S(Q.getElementById("google-table"))).draw(cb,{});return j.get_Empty();}},Hello:{inputField:$.Field(function(){return j.Input($.New(o,{$:0}),F.nameVar());}),label:$.Field(function(){return j.TextView(k.Map(function(ce){return"Hello "+ce+"!";},F.nameVar().get_View()));}),main:function(){return l.Div0(m.ofArray([l.Label0(m.ofArray([j.TextNode("Name:")])),l.Div0(m.ofArray([F.inputField()])),l.H20(m.ofArray([F.label()]))]));},nameVar:$.Field(function(){return g.Create("");})},Phoneword:{inputField:$.Field(function(){return j.Input($.New(o,{$:0}),H.phoneVar());}),label:$.Field(function(){return j.TextView(k.Map(function(cf){return H.toNumber(cf);},H.phoneVar().get_View()));}),main:function(){return l.Div0(m.ofArray([l.Label0(m.ofArray([j.TextNode("Phoneword:")])),l.Div0(m.ofArray([H.inputField()])),l.H20(m.ofArray([H.label()]))]));},phoneVar:$.Field(function(){return g.Create("1-645-COMPANY");}),toNumber:function(cg){return T.concat("",P.choose(function(ch){var ci,cj;ci=U.fromCharCode(ch);if(" -0123456789".indexOf(ci)!=-1){return{$:1,$0:ci};}else{cj=H.translate(ci);return cj.$==1?{$:1,$0:$$.String(cj.$0)}:{$:0};}},cg.toUpperCase()));},translate:function(ck){var cl,cm,cn;cl=H["|Contains|_|"]("ABC",ck);if(cl.$==1){return{$:1,$0:2};}else{cm=H["|Contains|_|"]("DEF",ck);if(cm.$==1){return{$:1,$0:3};}else{cn=H["|Contains|_|"]("GHI",ck);return cn.$==1?{$:1,$0:4}:H["|Contains|_|"]("JKL",ck).$==1?{$:1,$0:5}:H["|Contains|_|"]("MNO",ck).$==1?{$:1,$0:6}:H["|Contains|_|"]("PQRS",ck).$==1?{$:1,$0:7}:H["|Contains|_|"]("TUV",ck).$==1?{$:1,$0:8}:H["|Contains|_|"]("WXYZ",ck).$==1?{$:1,$0:9}:{$:0};}}},"|Contains|_|":function(co,cp){return co.indexOf(cp)!=-1?{$:1,$0:cp}:{$:0};}},Scatter:{Point:$.Class({},{Create:function(cq,cr){return $.New(V,{X:cq,Y:cr,Key:W.Fresh()});}}),PointModel:$.Class({Add:function(cs){this.arr.Add(cs);return X.Update(function(){return null;},this.model);},get_MaxX:function(){return q(P.maxBy(function(cu){return cu.X;},this.arr).X);},get_MaxY:function(){return q(P.maxBy(function(cv){return cv.Y;},this.arr).Y);},get_View:function(){return Y.View(this.model);}},{New:function(cw){var cx;cx=$.New(this,{});cx.arr=_1.New1();cx.arr.AddRange(cw);cx.model=X.Create(function(cy){return cy.ToArray();},cx.arr);return cx;}}),h:$.Field(function(){return 300;}),main:function(){var cz,cA,cB,cC,cD,cE,cF,cG,cH,cI,cJ,cM;cz=_2.New(G.points());cA=h.scale.linear().domain([0,cz.get_MaxX()]).range([G.padding(),G.w()-G.padding()*2]);cB=h.scale.linear().domain([0,cz.get_MaxY()]).range([G.h()-G.padding(),G.padding()]);cC=h.scale.linear().domain([0,cz.get_MaxY()]).range([2,5]);cD=h.svg.axis().scale(cA).orient("bottom");cE=[5];cF=cD.ticks.apply(cD,[].concat(cE));cG=h.svg.axis().scale(cB).orient("left");cH=[5];cI=cG.ticks.apply(cG,[].concat(cH));cJ=h.select("#scatter").append("svg").attr("width",G.w()).attr("height",G.h());cJ.append("g").attr("id","scatter-svg").style("fill","steelblue");cJ.append("g").attr("class","axis").attr("transform","translate(0,"+$$.String(G.h()-G.padding())+")").call(function(cK){return cF(cK);});cJ.append("g").attr("class","axis").attr("transform","translate("+$$.String(G.padding())+",0)").call(function(cL){return cI(cL);});cM=function(cN){return G.scale(cA,cB,cC,cN);};j.RunById("scatter-svg",j.ConvertBy(function(cO){return cO.Key;},function(cP){return G.render(cM,cP);},cz.get_View()));_3(function(){return cz.Add(V.Create(_4.floor(_4.random()*cz.get_MaxX()),_4.floor(_4.random()*cz.get_MaxY())));},1000);return;},padding:$.Field(function(){return 30;}),points:$.Field(function(){return m.map(function(){return V.Create(_4.floor(_4.random()*G.range()),_4.floor(_4.random()*G.range()));},P.toList(_5.range(0,19)));}),range:$.Field(function(){return _4.random()*1000;}),render:function(cS,cT){var cU,cV,cW;cU=cS(cT);cV=cU[2];cW=cU[1];return s.Circle(m.ofArray([n.Create("cx",$$.String(cU[0])),n.Create("cy",$$.String(cW)),n.Create("r",$$.String(cV))]),$.New(o,{$:0}));},scale:function(cX,cY,cZ,c0){return[cX(q(c0.X)),cY(q(c0.Y)),cZ(q(c0.Y))];},w:$.Field(function(){return 500;})},Slider:{animStyle:function(c1,c2){var c3;c3=function(c4){return $$.String(c4);};return n.AnimatedStyle("opacity",c1,t.Const(c2),c3);},fade:$.Field(function(){var c5,c6;c5=w.get_Double();c6=x.get_CubicInOut();return function(c7){return function(c8){return v.Simple(c5,c6,1000,c7,c8);};};}),fadeInTrans:$.Field(function(){return I.fadeTrans(0,1);}),fadeOutTrans:$.Field(function(){return I.fadeTrans(1,0);}),fadeTrans:function(c9,c_){return r.Enter(function(){return((I.fade())(c9))(c_);},r.Create(I.fade()));},img:function(da){return j.Element("img",da,$.New(o,{$:0}));},incrementImgs:function(db){var dc,dd;dc=I.settingsVar();dd=db.Imgs;return u.Set(dc,{Imgs:dd[0]===6?dd[1]===7?[7,1]:[dd[0]+1,dd[1]+1]:dd[0]===7?dd[1]===1?[1,2]:[dd[0]+1,dd[1]+1]:[dd[0]+1,dd[1]+1],Direction:db.Direction});},link:function(de,df,dg){return j.Link(de,m.ofArray([n.Create("id",df)]),dg);},main:function(){var di;j.RunById("slider",j.EmbedView(k.Map(function(dh){return I.render(dh);},k.FromVar(I.settingsVar()))));di=g.Create(I.scrollTimer());return _6("#slider, #prev-slide, #next-slide").hover(function(){return _7(g.Get(di));},function(){var dl;dl=g.Get(I.settingsVar());if(dl.Direction.$==0){I.setDirection(dl,{$:1});}return u.Set(di,I.scrollTimer());});},opacityIn:function(){return I.animStyle(I.fadeInTrans(),1);},opacityOut:function(){return I.animStyle(I.fadeOutTrans(),0);},render:function(dm){var dn;dn=dm.Imgs;return j.Concat(m.ofArray([I.img(P.toList(P.delay(function(){return P.append([I.src(dn[0])],P.delay(function(){return dm.Direction.$==0?[I.opacityIn()]:[I.opacityOut()];}));}))),I.img(P.toList(P.delay(function(){return P.append([I.src(dn[1])],P.delay(function(){return dm.Direction.$==0?[I.opacityOut()]:[I.opacityIn()];}));}))),I.link("Prev","prev-slide",function(){var dt,du,dv,dw,dx;dt=g.Get(I.settingsVar());du=dt.Direction;if(du.$==0){dv=I.settingsVar();dw=I.settingsVar().get_Value();dx=I.settingsVar().get_Value().Imgs;return u.Set(dv,{Imgs:dx[0]===1?dx[1]===2?[7,1]:[dx[0]-1,dx[1]-1]:dx[0]===7?dx[1]===1?[6,7]:[dx[0]-1,dx[1]-1]:[dx[0]-1,dx[1]-1],Direction:dw.Direction});}else{return I.setDirection(dt,{$:0});}}),I.link("Next","next-slide",function(){var dz;dz=g.Get(I.settingsVar());return dz.Direction.$==1?I.incrementImgs(dz):I.setDirection(dz,{$:1});})]));},scrollTimer:function(){return _3(function(){return I.incrementImgs(g.Get(I.settingsVar()));},2000);},setDirection:function(dB,dC){return u.Set(I.settingsVar(),{Imgs:dB.Imgs,Direction:dC});},settingsVar:$.Field(function(){return g.Create({Imgs:[1,2],Direction:{$:1}});}),src:function(dD){return n.Create("src","http://placekitten.com/200/200?image="+$$.String(dD));}}}});$.OnInit(function(){a=$.Safe($$.IntelliFactory.WebSharper);b=$.Safe(a.Arrays);c=$.Safe($$.Sitelet);d=$.Safe(c.Bar);e=$.Safe(a.UI);f=$.Safe(e.Next);g=$.Safe(f.Var1);h=$.Safe($$.d3);i=$.Safe(a.IntrinsicFunctionProxy);j=$.Safe(f.Doc);k=$.Safe(f.View1);l=$.Safe(f.Html);m=$.Safe(a.List);n=$.Safe(f.Attr);o=$.Safe(m.T);p=$.Safe(d.Order);q=$.Safe($$.Number);r=$.Safe(f.Trans);s=$.Safe(l.SvgElements);t=$.Safe(f.View);u=$.Safe(f.Var);v=$.Safe(f.An);w=$.Safe(f.Interpolation);x=$.Safe(f.Easing);y=$.Safe(a.JQueryUI);z=$.Safe(y.SliderConfiguration);A=$.Safe(y.Slider);B=$.Safe(c.GoogleDashboard);C=$.Safe(a.Html);D=$.Safe(C.Operators);E=$.Safe(C.Default);F=$.Safe(c.Hello);G=$.Safe(c.Scatter);H=$.Safe(c.Phoneword);I=$.Safe(c.Slider);J=$.Safe(c.Client);K=$.Safe(B.Gender);L=$.Safe(a.Unchecked);M=$.Safe($$.google);N=$.Safe(M.visualization);O=$.Safe(N.DataTable);P=$.Safe(a.Seq);Q=$.Safe($$.document);R=$.Safe(N.PieChart);S=$.Safe(N.Table);T=$.Safe(a.Strings);U=$.Safe($$.String);V=$.Safe(G.Point);W=$.Safe(f.Key);X=$.Safe(f.Model1);Y=$.Safe(f.Model);Z=$.Safe(a.Collections);_0=$.Safe(Z.ResizeArray);_1=$.Safe(_0.ResizeArrayProxy);_2=$.Safe(G.PointModel);_3=$.Safe($$.setInterval);_4=$.Safe($$.Math);_5=$.Safe(a.Operators);_6=$.Safe($$.jQuery);return _7=$.Safe($$.clearInterval);});$.OnLoad(function(){I.settingsVar();I.fadeOutTrans();I.fadeInTrans();I.fade();G.w();G.range();G.points();G.padding();G.h();H.phoneVar();H.label();H.inputField();F.nameVar();F.label();F.inputField();B.gender();B.data();B.age();d.w();d.simpleTrans();d.order();d.h();d.dataset();d.dataVar();d.data();return;});}());
