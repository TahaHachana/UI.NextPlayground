(function(){var $$=this,$=this.IntelliFactory.Runtime,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_0,_1,_2,_3,_4;$.Define($$,{UINext:{Bar:{Order:$.Class({},{Show:function(_5){return _5.$==2?"Asc":_5.$==1?"Desc":"None";}}),data:$.Field(function(){return b.mapi(function(_6){return function(_7){return{X:_7,Index:_6,OldIndex:_6};};},d.dataset());}),dataset:$.Field(function(){return[5,10,13,19,21,25,22,18,15,13,11,12,15,20,18,17,16,18,23,25];}),h:$.Field(function(){return 250;}),main:function(){var _8,_9,_,ba,bb,bc,bs,bt;_8=e.scale.ordinal().domain(e.range(f.GetLength(d.dataset()))).rangeRoundBands([0,d.w()],0.5);_9=e.scale.linear().domain([0,e.max(d.dataset())]).range([0,d.h()]);_=e.select("#bar-chart").append("svg").attr("width",d.w()).attr("height",d.h());_.append("g").attr("id","bar-svg");ba=i.Create($.New(j,{$:0}));bb=i.Create($.New(j,{$:0}));bc=function(bd){var bj;if(bd.$==2){k.Set(ba,$.New(j,{$:2}));return b.mapi(function(be){return function(bf){return{X:bf.X,Index:be,OldIndex:bf.Index};};},b.sortBy(function(bf){return bf.X;},d.data()));}else{if(bd.$==1){k.Set(ba,$.New(j,{$:1}));return b.mapi(function(bg){return function(bh){return{X:bh.X,Index:bg,OldIndex:bh.Index};};},b.sortBy(function(bi){return bi.X;},d.data()).slice().reverse());}else{bj=i.Get(ba);k.Set(ba,$.New(j,{$:0}));return bj.$==2?b.mapi(function(bk){return function(bl){var bm;bm=(d.data())[bk];return{X:bm.X,Index:bm.Index,OldIndex:bl.Index};};},b.sortBy(function(bn){return bn.X;},d.data())):bj.$==1?b.mapi(function(bo){return function(bp){var bq;bq=(d.data())[bo];return{X:bq.X,Index:bq.Index,OldIndex:bp.Index};};},b.sortBy(function(br){return br.X;},d.data()).slice().reverse()):d.data();}}};bs=bb.get_View();bt=l.Map(bc,bs);m.RunById("bar-svg",m.EmbedView(l.Map(function(bu){return m.Concat(b.map(function(bv){return d.render(_8,_9,bv);},bu));},bt)));return m.RunById("bar",n.Div(o.ofArray([p.Style("margin-bottom","10px")]),o.ofArray([m.TextNode("Order: "),m.Select($.New(q,{$:0}),function(bw){return j.Show(bw);},o.ofArray([$.New(j,{$:0}),$.New(j,{$:2}),$.New(j,{$:1})]),bb)])));},render:function(bx,by,bz){var bA,bB,bC,bD,bE,bG,bJ;bA=bz.Index;bB=bx(bz.OldIndex);bC=r(bz.X);bD=d.simpleTrans();bE=s.Enter(function(bF){return d.simpleAnim(bB,bF);},bD);bG=function(bH){return $$.String(bH);};bJ=function(bK){return $$.String(bK);};return m.Concat(o.ofArray([t.Rect(o.ofArray([p.Create("y",$$.String(d.h()-by(bC))),p.Create("width",$$.String(bx.rangeBand())),p.Create("height",$$.String(by(bC))),p.Create("fill","steelblue"),p.Animated("x",bE,l.Map(function(bI){return bI;},u.Const(bx(bA))),bG)]),$.New(q,{$:0})),t.Text(o.ofArray([p.Create("text-anchor","middle"),p.Create("font-family","sans-serif"),p.Create("font-size","11px"),p.Create("fill","white"),p.Animated("x",bE,l.Map(function(bL){return bL;},u.Const(bx(bA)+7)),bJ),p.Create("y",$$.String(d.h()-by(bC)+15))]),o.ofArray([m.TextNode($$.String(bC))]))]));},simpleAnim:function(bM,bN){return v.Simple(w.get_Double(),x.get_CubicInOut(),400,bM,bN);},simpleTrans:$.Field(function(){return s.Create(function(bO){return function(bP){return d.simpleAnim(bO,bP);};});}),w:$.Field(function(){return 600;})},Client:{main:function(){var bQ,bR,bW;bQ=z.New();bQ.max=60;bQ.min=20;bQ.values=[25,55];bQ.range=true;bR=A.New1(bQ);bR.OnSlide(function(){var bT,bU;bT=bR.get_Values();bU=B.age();return($.Tupled(function(bV){return k.Set(bU,bV);}))([bT[0],bT[1]]);});bW=D.add(E.Div(o.ofArray([E.Attr().Class("container")])),o.ofArray([D.add(E.Div(o.ofArray([E.Attr().Class("example")])),o.ofArray([E.H1(o.ofArray([E.Text("Hello"),E.Attr().Class("page-header")])),E.Div(o.ofArray([E.Attr().NewAttr("id","hello")]))])),E.Hr($.New(q,{$:0})),D.add(E.Div(o.ofArray([E.Attr().Class("example")])),o.ofArray([E.H1(o.ofArray([E.Text("Dynamic Scatterplot"),E.Attr().Class("page-header")])),E.Div(o.ofArray([E.Attr().NewAttr("id","scatter")]))])),E.Hr($.New(q,{$:0})),D.add(E.Div(o.ofArray([E.Attr().Class("example")])),o.ofArray([E.H1(o.ofArray([E.Text("Phoneword"),E.Attr().Class("page-header")])),E.Div(o.ofArray([E.Attr().NewAttr("id","phoneword")]))])),E.Hr($.New(q,{$:0})),D.add(E.Div(o.ofArray([E.Attr().Class("example")])),o.ofArray([E.H1(o.ofArray([E.Text("Bar"),E.Attr().Class("page-header")])),E.Div(o.ofArray([E.Attr().NewAttr("id","bar")])),E.Div(o.ofArray([E.Attr().NewAttr("id","bar-chart")]))])),E.Hr($.New(q,{$:0})),D.add(E.Div(o.ofArray([E.Attr().Class("example")])),o.ofArray([E.H1(o.ofArray([E.Text("Google Dashboard"),E.Attr().Class("page-header")])),D.add(E.Div(o.ofArray([E.Attr().Class("row"),E.Attr().NewAttr("style","margin-bottom:50px;")])),o.ofArray([D.add(E.Div(o.ofArray([E.Attr().Class("col-md-6")])),o.ofArray([E.Div(o.ofArray([E.Attr().NewAttr("id","min-max")])),E.Div(o.ofArray([bR]))])),D.add(E.Div(o.ofArray([E.Attr().Class("col-md-6")])),o.ofArray([E.Div(o.ofArray([E.Attr().NewAttr("id","google-dash")]))]))])),D.add(E.Div(o.ofArray([E.Attr().Class("row")])),o.ofArray([D.add(E.Div(o.ofArray([E.Attr().Class("col-md-6")])),o.ofArray([E.Div(o.ofArray([E.Attr().NewAttr("style","height: 400px;"),E.Attr().NewAttr("id","google-pie")]))])),D.add(E.Div(o.ofArray([E.Attr().Class("col-md-6")])),o.ofArray([E.Div(o.ofArray([E.Attr().NewAttr("style","height: 400px;"),E.Attr().NewAttr("id","google-table")]))]))])),E.Div(o.ofArray([E.Attr().NewAttr("id","google")]))]))]));D.OnAfterRender(function(){m.RunById("hello",F.main());G.main();m.RunById("phoneword",H.main());d.main();return B.main();},bW);return bW;}},Controls:{EntryPoint:$.Class({get_Body:function(){return I.main();}})},GoogleDashboard:{Gender:$.Class({},{Show:function(bY){return bY.$==1?"Male":bY.$==2?"None":"Female";}}),age:$.Field(function(){return i.Create([20,60]);}),data:$.Field(function(){return o.ofArray([{Name:"Michael",Gender:$.New(J,{$:1}),Age:24,DonutsEaten:5},{Name:"Elisa",Gender:$.New(J,{$:0}),Age:31,DonutsEaten:4},{Name:"John",Gender:$.New(J,{$:1}),Age:40,DonutsEaten:1},{Name:"Jessica",Gender:$.New(J,{$:0}),Age:37,DonutsEaten:3},{Name:"Margareth",Gender:$.New(J,{$:0}),Age:53,DonutsEaten:2},{Name:"Miranda",Gender:$.New(J,{$:0}),Age:25,DonutsEaten:3},{Name:"Jack",Gender:$.New(J,{$:1}),Age:26,DonutsEaten:2}]);}),gender:$.Field(function(){return i.Create($.New(J,{$:2}));}),main:function(){var bZ,b4,b5,b6,b8;bZ=function(b0){return $.Tupled(function(b1){return o.filter(function(b2){return b2.Age<b1[1]?b2.Age>b1[0]:false;},b0.$==2?B.data():o.filter(function(b3){return K.Equals(b3.Gender,b0);},B.data()));});};b4=B.gender().get_View();b5=B.age().get_View();b6=l.Map2(bZ,b4,b5);m.RunById("google",m.EmbedView(l.Map(function(b7){return B.render(b7);},b6)));b8=B.age().get_View();m.RunById("min-max",m.TextView(l.Map($.Tupled(function(b9){var b_;b_=b9[1];return"Min: "+$$.String(b9[0])+" Max: "+$$.String(b_);}),b8)));return m.RunById("google-dash",n.Div($.New(q,{$:0}),o.ofArray([m.TextNode("Gender Selection: "),m.Select($.New(q,{$:0}),function(b$){return J.Show(b$);},o.ofArray([$.New(J,{$:2}),$.New(J,{$:0}),$.New(J,{$:1})]),B.gender())])));},render:function(ca){var cb,ce,cf,cg,ch;cb=new N();cb.addColumn("string","Name");cb.addColumn("number","Donuts Eaten");cb.addRows(ca.get_Length());O.iteri(function(cc){return function(cd){cb.setCell(cc,0,cd.Name);return cb.setCell(cc,1,cd.DonutsEaten);};},ca);ce=P.getElementById("google-pie");cf=new Q(ce);cg={};cf.draw(cb,cg);ch=new N();ch.addColumn("string","Name");ch.addColumn("string","Gender");ch.addColumn("number","Age");ch.addColumn("number","Donuts Eaten");ch.addRows(ca.get_Length());O.iteri(function(ci){return function(cj){ch.setCell(ci,0,cj.Name);ch.setCell(ci,1,cj.Gender.$==0?"Female":"Male");ch.setCell(ci,2,cj.Age);return ch.setCell(ci,3,cj.DonutsEaten);};},ca);(new R(P.getElementById("google-table"))).draw(ch,{});return m.get_Empty();}},Hello:{inputField:$.Field(function(){return m.Input($.New(q,{$:0}),F.nameVar());}),label:$.Field(function(){return m.TextView(l.Map(function(ck){return"Hello "+ck+"!";},F.nameVar().get_View()));}),main:function(){return n.Div0(o.ofArray([n.Label0(o.ofArray([m.TextNode("Name:")])),n.Div0(o.ofArray([F.inputField()])),n.H20(o.ofArray([F.label()]))]));},nameVar:$.Field(function(){return i.Create("");})},Phoneword:{inputField:$.Field(function(){return m.Input($.New(q,{$:0}),H.phoneVar());}),label:$.Field(function(){return m.TextView(l.Map(function(cl){return H.toNumber(cl);},H.phoneVar().get_View()));}),main:function(){return n.Div0(o.ofArray([n.Label0(o.ofArray([m.TextNode("Phoneword:")])),n.Div0(o.ofArray([H.inputField()])),n.H20(o.ofArray([H.label()]))]));},phoneVar:$.Field(function(){return i.Create("1-645-COMPANY");}),toNumber:function(cm){return S.concat("",O.choose(function(cn){var co,cp;co=T.fromCharCode(cn);if(" -0123456789".indexOf(co)!=-1){return{$:1,$0:co};}else{cp=H.translate(co);return cp.$==1?{$:1,$0:$$.String(cp.$0)}:{$:0};}},cm.toUpperCase()));},translate:function(cq){var cr,cs,ct;cr=H["|Contains|_|"]("ABC",cq);if(cr.$==1){return{$:1,$0:2};}else{cs=H["|Contains|_|"]("DEF",cq);if(cs.$==1){return{$:1,$0:3};}else{ct=H["|Contains|_|"]("GHI",cq);return ct.$==1?{$:1,$0:4}:H["|Contains|_|"]("JKL",cq).$==1?{$:1,$0:5}:H["|Contains|_|"]("MNO",cq).$==1?{$:1,$0:6}:H["|Contains|_|"]("PQRS",cq).$==1?{$:1,$0:7}:H["|Contains|_|"]("TUV",cq).$==1?{$:1,$0:8}:H["|Contains|_|"]("WXYZ",cq).$==1?{$:1,$0:9}:{$:0};}}},"|Contains|_|":function(cu,cv){return cu.indexOf(cv)!=-1?{$:1,$0:cv}:{$:0};}},Scatter:{Point:$.Class({},{Create:function(cw,cx){return $.New(U,{X:cw,Y:cx,Key:V.Fresh()});}}),PointModel:$.Class({Add:function(cy){this.arr.Add(cy);return W.Update(function(){return null;},this.model);},get_MaxX:function(){return r(O.maxBy(function(cA){return cA.X;},this.arr).X);},get_MaxY:function(){return r(O.maxBy(function(cB){return cB.Y;},this.arr).Y);},get_View:function(){return X.View(this.model);}},{New:function(cC){var cD;cD=$.New(this,{});cD.arr=_0.New1();cD.arr.AddRange(cC);cD.model=W.Create(function(cE){return cE.ToArray();},cD.arr);return cD;}}),h:$.Field(function(){return 300;}),main:function(){var cF,cG,cH,cI,cJ,cK,cL,cM,cN,cO,cP,cS;cF=_1.New(G.points());cG=e.scale.linear().domain([0,cF.get_MaxX()]).range([G.padding(),G.w()-G.padding()*2]);cH=e.scale.linear().domain([0,cF.get_MaxY()]).range([G.h()-G.padding(),G.padding()]);cI=e.scale.linear().domain([0,cF.get_MaxY()]).range([2,5]);cJ=e.svg.axis().scale(cG).orient("bottom");cK=[5];cL=cJ.ticks.apply(cJ,[].concat(cK));cM=e.svg.axis().scale(cH).orient("left");cN=[5];cO=cM.ticks.apply(cM,[].concat(cN));cP=e.select("#scatter").append("svg").attr("width",G.w()).attr("height",G.h());cP.append("g").attr("id","scatter-svg").style("fill","steelblue");cP.append("g").attr("class","axis").attr("transform","translate(0,"+$$.String(G.h()-G.padding())+")").call(function(cQ){return cL(cQ);});cP.append("g").attr("class","axis").attr("transform","translate("+$$.String(G.padding())+",0)").call(function(cR){return cO(cR);});cS=function(cT){return G.scale(cG,cH,cI,cT);};m.RunById("scatter-svg",m.ConvertBy(function(cU){return cU.Key;},function(cV){return G.render(cS,cV);},cF.get_View()));_2(function(){return cF.Add(U.Create(_3.floor(_3.random()*cF.get_MaxX()),_3.floor(_3.random()*cF.get_MaxY())));},1000);return;},padding:$.Field(function(){return 30;}),points:$.Field(function(){return o.map(function(){return U.Create(_3.floor(_3.random()*G.range()),_3.floor(_3.random()*G.range()));},O.toList(_4.range(0,19)));}),range:$.Field(function(){return _3.random()*1000;}),render:function(cY,cZ){var c0,c1,c2;c0=cY(cZ);c1=c0[2];c2=c0[1];return t.Circle(o.ofArray([p.Create("cx",$$.String(c0[0])),p.Create("cy",$$.String(c2)),p.Create("r",$$.String(c1))]),$.New(q,{$:0}));},scale:function(c3,c4,c5,c6){return[c3(r(c6.X)),c4(r(c6.Y)),c5(r(c6.Y))];},w:$.Field(function(){return 500;})}}});$.OnInit(function(){a=$.Safe($$.IntelliFactory.WebSharper);b=$.Safe(a.Arrays);c=$.Safe($$.UINext);d=$.Safe(c.Bar);e=$.Safe($$.d3);f=$.Safe(a.IntrinsicFunctionProxy);g=$.Safe(a.UI);h=$.Safe(g.Next);i=$.Safe(h.Var1);j=$.Safe(d.Order);k=$.Safe(h.Var);l=$.Safe(h.View1);m=$.Safe(h.Doc);n=$.Safe(h.Html);o=$.Safe(a.List);p=$.Safe(h.Attr);q=$.Safe(o.T);r=$.Safe($$.Number);s=$.Safe(h.Trans);t=$.Safe(n.SvgElements);u=$.Safe(h.View);v=$.Safe(h.An);w=$.Safe(h.Interpolation);x=$.Safe(h.Easing);y=$.Safe(a.JQueryUI);z=$.Safe(y.SliderConfiguration);A=$.Safe(y.Slider);B=$.Safe(c.GoogleDashboard);C=$.Safe(a.Html);D=$.Safe(C.Operators);E=$.Safe(C.Default);F=$.Safe(c.Hello);G=$.Safe(c.Scatter);H=$.Safe(c.Phoneword);I=$.Safe(c.Client);J=$.Safe(B.Gender);K=$.Safe(a.Unchecked);L=$.Safe($$.google);M=$.Safe(L.visualization);N=$.Safe(M.DataTable);O=$.Safe(a.Seq);P=$.Safe($$.document);Q=$.Safe(M.PieChart);R=$.Safe(M.Table);S=$.Safe(a.Strings);T=$.Safe($$.String);U=$.Safe(G.Point);V=$.Safe(h.Key);W=$.Safe(h.Model1);X=$.Safe(h.Model);Y=$.Safe(a.Collections);Z=$.Safe(Y.ResizeArray);_0=$.Safe(Z.ResizeArrayProxy);_1=$.Safe(G.PointModel);_2=$.Safe($$.setInterval);_3=$.Safe($$.Math);return _4=$.Safe(a.Operators);});$.OnLoad(function(){G.w();G.range();G.points();G.padding();G.h();H.phoneVar();H.label();H.inputField();F.nameVar();F.label();F.inputField();B.gender();B.data();B.age();d.w();d.simpleTrans();d.h();d.dataset();d.data();return;});}());
